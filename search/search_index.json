{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":""},{"location":"#Mkdocs-Note","title":"Mkdocs Note","text":"<p>MkDocs Note is a plugin for MkDocs that automatically manages documentations in your mkdocs-based sites. It's designed to create a unified note-taking and documentation experience.</p> <p>Notice</p> <p>Due to the manual refactoring of the codebase, the release <code>v3.0.0</code> has some large breaking changes which some docs hasn't been updated yet.</p> <p>In the Recent Update below, documentations whose timestamp after November, 2025 is updated those.</p>"},{"location":"#Recent-Update","title":"Recent Update","text":"<ul> <li>Architecture Overview2025-11-05 12:05:00</li> <li>Contributing2025-11-05 11:00:00</li> <li>Changelog2025-11-05 10:53:00</li> <li>Recent Notes Insertion2025-11-05 00:15:04</li> <li>Network Graph Visualization2025-11-05 00:00:00</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#Installation","title":"Installation","text":"<p>Recommended to use uv to add the plugin to your virtual environment: <pre><code>uv add mkdocs-note\n</code></pre></p> <p>Or use The <code>uv tool</code> Interface (<code>uvx</code>) to install and use it much simpler: <pre><code>uvx mkdocs-note --version\n</code></pre></p> <p>Or just using <code>pip</code>: <pre><code>pip install mkdocs-note\n</code></pre></p> <p>For more details, please refer to the Installation | User Guide.</p>"},{"location":"getting-started/#Use-CLI-to-manage-notes","title":"Use CLI to manage notes","text":"<p>The most highlighted feature of the plugin is the CLI commands to manage notes, which can help you manage your notes with their corresponding assets atomically.</p>"},{"location":"getting-started/#Create-a-note","title":"Create a note","text":"<p>To create a note, you can use the following command: <pre><code>mkdocs-note new /path/to/note\n</code></pre></p> <p>It will create a note in the specified path and create a corresponding asset directory in the <code>assets</code> directory which will be co-located with the note.</p>"},{"location":"getting-started/#Remove-Note-or-Note-Directory","title":"Remove Note or Note Directory","text":"<p>To remove a note, you can use the following command: <pre><code>mkdocs-note remove /path/to/note-or-directory\n</code></pre></p> <p>It will remove the note or note directory and the corresponding asset directory(ies) from the <code>assets</code> directory, inspired by shell command <code>rm -rf</code>.</p>"},{"location":"getting-started/#Move-or-Rename-Note-or-Note-Directory","title":"Move or Rename Note or Note Directory","text":"<p>To move or rename a note or note directory, you can use the following command: <pre><code>mkdocs-note move /path/to/note-or-directory /path/to/new-location\n</code></pre></p> <p>It will move or rename the note or note directory and the corresponding asset directory(ies) to the new location, inspired by shell command <code>mv</code>.</p> <p>More details, please refer to the CLI Commands | User Guide.</p>"},{"location":"getting-started/#Configuration","title":"Configuration","text":""},{"location":"getting-started/#Basic-Configuration","title":"Basic Configuration","text":"<p>For basic configuration, you can add the following to your <code>mkdocs.yml</code>:</p> <pre><code>plugins:\n  - mkdocs-note\n</code></pre> <p>It's the simplest configuration, and the plugin will use the default configuration.</p>"},{"location":"getting-started/#Recommended-Configuration","title":"Recommended Configuration","text":"<p>To use the plugin in a recommended way, you can add the following to your <code>mkdocs.yml</code>:</p> <pre><code>plugins:\n  - mkdocs-note:\n      recent_notes_config:\n        enabled: true\n        insert_marker: \"&lt;!-- recent_notes --&gt;\"\n        insert_num: 5\n      graph_config:\n        enabled: true\n        name: \"title\"\n        debug: false\n</code></pre>"},{"location":"getting-started/#Recent-Notes-Insertion","title":"Recent Notes Insertion","text":"<p>Mkdocs Note supports inserting specified number of recent notes to the marked placeholder in the index file, which can be configured in <code>mkdocs.yml</code> as follows:</p> <pre><code>plugins:\n  - mkdocs-note:\n      recent_notes_config:\n        enabled: true\n        insert_marker: \"&lt;!-- recent_notes --&gt;\"\n        insert_num: 5\n</code></pre> <p>More details, please refer to the Recent Notes Insertion | User Guide.</p>"},{"location":"about/changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"about/changelog/#301---2025-11-05","title":"3.0.1 - 2025-11-05","text":""},{"location":"about/changelog/#Fixed","title":"Fixed","text":"<ul> <li> <p>Fixed issue where recent notes were not inserted into index page if notes_root was not default value (<code>docs</code>).</p> </li> <li> <p>Fixed issue that cannot copy static assets to output directory which can make the graph visualization not working.</p> </li> </ul>"},{"location":"about/changelog/#300---2025-11-04-Architecture-Simplification","title":"3.0.0 - 2025-11-04 (Architecture Simplification)","text":""},{"location":"about/changelog/#Changed","title":"Changed","text":"<ul> <li> <p>[BREAKING] Major Architecture Refactoring: Completely restructured project architecture from complex modular design to simplified flat structure (#60)</p> </li> <li> <p>Core Philosophy Change: From \"feature-rich notebook manager\" to \"lightweight documentation plugin with note features\"</p> </li> <li> <p>Removed Modules (deleted ~9,300 lines of code):</p> <ul> <li> <p><code>utils/assetps/</code>: Asset management subsystem (401 lines)</p> </li> <li> <p><code>utils/dataps/</code>: Data models and frontmatter system (600+ lines)</p> </li> <li> <p><code>utils/docsps/</code>: Document operations (creator, cleaner, mover, remover, initializer - 1,800+ lines)</p> </li> <li> <p><code>utils/fileps/</code>: File I/O operations (105 lines)</p> </li> <li> <p><code>utils/graphps/</code>: Graph processing utilities (106 lines)</p> </li> <li> <p><code>utils/pathps/</code>: Path utilities (empty placeholder)</p> </li> <li> <p><code>logger.py</code>: Custom logging module (50 lines)</p> </li> </ul> </li> <li> <p>New Simplified Structure:</p> <ul> <li> <p>Core modules moved to package root: <code>plugin.py</code>, <code>cli.py</code>, <code>config.py</code>, <code>graph.py</code></p> </li> <li> <p>Minimal utilities: <code>utils/meta.py</code>, <code>utils/scanner.py</code>, <code>utils/cli/</code> (commands &amp; common)</p> </li> <li> <p>Total source code: ~2,700 lines (vs. ~12,000 lines in v2.x)</p> </li> </ul> </li> <li> <p>Removed Features:</p> <ul> <li> <p>Asset management system (automatic asset directory creation/management)</p> </li> <li> <p>Template system (note templates with variable substitution)</p> </li> <li> <p>Note validation and initialization commands</p> </li> <li> <p>Advanced CLI commands: <code>init</code>, <code>validate</code>, <code>template</code></p> </li> <li> <p>Frontmatter management system</p> </li> <li> <p>Complex file scanning and processing pipelines</p> </li> </ul> </li> <li> <p>Retained Core Features:</p> <ul> <li> <p>\u2705 Recent notes display functionality</p> </li> <li> <p>\u2705 Network graph visualization</p> </li> <li> <p>\u2705 Basic CLI commands: <code>new</code>, <code>remove</code>, <code>move</code>, <code>clean</code></p> </li> <li> <p>\u2705 Git timestamp support</p> </li> <li> <p>\u2705 Metadata extraction (title, date)</p> </li> </ul> </li> <li> <p>Benefits:</p> <ul> <li> <p>\u2705 Significantly Reduced Complexity: Easier to understand, maintain, and extend</p> </li> <li> <p>\u2705 Faster Performance: Less overhead from removed abstraction layers</p> </li> <li> <p>\u2705 Lower Maintenance Burden: Fewer moving parts means fewer potential bugs</p> </li> <li> <p>\u2705 Clearer Purpose: Focused on core documentation needs rather than comprehensive note management</p> </li> <li> <p>\u2705 Better Integration: Simpler codebase integrates more naturally with MkDocs ecosystem</p> </li> </ul> </li> <li> <p>Configuration Simplification: Dramatically reduced configuration options</p> </li> <li> <p>Removed Options:</p> <ul> <li> <p><code>assets_dir</code>: Asset management removed</p> </li> <li> <p><code>notes_template</code>: Template system removed</p> </li> <li> <p><code>cache_size</code>: Caching logic simplified</p> </li> <li> <p><code>exclude_patterns</code>: File filtering simplified</p> </li> <li> <p><code>use_git_timestamps</code>: Now always enabled by default</p> </li> <li> <p><code>timestamp_zone</code>: Timezone handling simplified</p> </li> </ul> </li> <li> <p>Retained Options:</p> <ul> <li> <p><code>enabled</code>: Plugin enable/disable toggle</p> </li> <li> <p><code>notes_root</code>: Working directory (default: <code>docs</code>)</p> </li> <li> <p><code>recent_notes_config</code>: Recent notes insertion settings</p> </li> <li> <p><code>graph_config</code>: Network graph visualization settings</p> </li> </ul> </li> <li> <p>Impact: Configuration now fits in 47 lines vs. 237 lines in v2.x</p> </li> <li> <p>CLI Refactoring: Streamlined command-line interface</p> </li> <li> <p>Migrated from complex <code>cli.py</code> (814 lines in v2.x) to modular structure:</p> <ul> <li> <p><code>cli.py</code>: Main CLI entry point (438 lines)</p> </li> <li> <p><code>utils/cli/commands.py</code>: Command implementations (420 lines)</p> </li> <li> <p><code>utils/cli/common.py</code>: Shared utilities (98 lines)</p> </li> </ul> </li> <li> <p>Removed Commands:</p> <ul> <li> <p><code>init</code>: Note directory initialization (no longer needed)</p> </li> <li> <p><code>validate</code>: Asset structure validation (asset system removed)</p> </li> <li> <p><code>template</code>: Template management (template system removed)</p> </li> </ul> </li> <li> <p>Retained Commands (with simplified implementations):</p> <ul> <li> <p><code>new</code>: Create new notes (no template/validation overhead)</p> </li> <li> <p><code>remove</code> / <code>rm</code>: Delete notes (no asset cleanup complexity)</p> </li> <li> <p><code>move</code> / <code>mv</code>: Move/rename notes (simplified path handling)</p> </li> <li> <p><code>clean</code>: Clean orphaned resources (simplified cleanup logic)</p> </li> </ul> </li> <li> <p>Test Suite Reorganization: Completely restructured test suite</p> </li> <li> <p>Removed Test Files (~4,900 lines):</p> <ul> <li> <p><code>tests/core/</code>: All core module tests (8 test files)</p> </li> <li> <p><code>test_assets_manager.py</code> (618 lines)</p> </li> <li> <p><code>test_file_manager.py</code> (319 lines)</p> </li> <li> <p><code>test_frontmatter_manager.py</code> (435 lines)</p> </li> <li> <p><code>test_graph_handler_simple.py</code> (163 lines)</p> </li> <li> <p><code>test_note_cleaner.py</code> (480 lines)</p> </li> <li> <p><code>test_note_creator.py</code> (372 lines)</p> </li> <li> <p><code>test_note_initializer.py</code> (255 lines)</p> </li> <li> <p><code>test_note_manager.py</code> (502 lines)</p> </li> <li> <p><code>test_note_remover.py</code> (153 lines)</p> </li> </ul> </li> <li> <p>New Test Structure:</p> <ul> <li> <p><code>test_cli_commands.py</code>: CLI command testing (453 lines)</p> </li> <li> <p><code>test_cli_common.py</code>: CLI utility testing (202 lines)</p> </li> <li> <p><code>test_cli_integration.py</code>: Integration testing (405 lines)</p> </li> <li> <p><code>test_config.py</code>: Configuration testing (simplified to 397 lines)</p> </li> <li> <p><code>test_plugin.py</code>: Plugin testing (simplified to 670 lines)</p> </li> <li> <p><code>smoke_test.py</code>: Package smoke tests (refactored)</p> </li> <li> <p><code>test_help.py</code>: Help system tests</p> </li> </ul> </li> <li> <p>Test Count: Reduced from 227 tests to focused test suite on core functionality</p> </li> <li> <p>Documentation Updates: Comprehensive documentation reorganization</p> </li> <li> <p>Removed Documentation:</p> <ul> <li> <p><code>docs/usage/exclusion.md</code>: Exclusion patterns (42 lines)</p> </li> <li> <p><code>docs/usage/sec.md</code>: Security features (24 lines)</p> </li> <li> <p><code>docs/usage/templating.md</code>: Template system (75 lines)</p> </li> </ul> </li> <li> <p>Added Documentation:</p> <ul> <li><code>docs/usage/meta.md</code>: Metadata handling (8 lines)</li> </ul> </li> <li> <p>Updated Documentation:</p> <ul> <li> <p><code>docs/getting-started.md</code>: Simplified getting started guide</p> </li> <li> <p><code>docs/usage/cli.md</code>: Updated CLI documentation</p> </li> <li> <p><code>docs/usage/config.md</code>: Simplified configuration guide</p> </li> <li> <p><code>docs/usage/network-graph.md</code>: Updated graph documentation</p> </li> <li> <p><code>docs/usage/recent-notes.md</code>: Updated recent notes guide</p> </li> </ul> </li> <li> <p>Graph Module Restructuring: Moved graph functionality to package root</p> </li> <li> <p><code>utils/graphps/graph.py</code> \u2192 <code>graph.py</code> (now 74 lines vs. original implementation)</p> </li> <li> <p><code>utils/graphps/handlers.py</code>: Removed (101 lines) - logic integrated into main module</p> </li> <li> <p>Static assets moved: <code>utils/graphps/static/</code> \u2192 <code>static/</code></p> </li> </ul>"},{"location":"about/changelog/#Removed","title":"Removed","text":"<ul> <li> <p>Asset Management System: Complete removal of automatic asset directory management</p> </li> <li> <p>Users now manage asset organization manually</p> </li> <li> <p>No more automatic asset path processing during build</p> </li> <li> <p>Removed asset catalog and tree structure validation</p> </li> <li> <p>Template System: Removed note template functionality</p> </li> <li> <p>No more template variables (<code>{{title}}</code>, <code>{{date}}</code>, etc.)</p> </li> <li> <p>No template validation or creation tools</p> </li> <li> <p>Users manage note templates manually if needed</p> </li> <li> <p>Frontmatter Management: Removed comprehensive frontmatter system</p> </li> <li> <p>No metadata registry or field validation</p> </li> <li> <p>No custom metadata field support</p> </li> <li> <p>Basic frontmatter parsing remains for title/date extraction</p> </li> <li> <p>Advanced Validation: Removed structure compliance checking</p> </li> <li> <p>No asset tree validation</p> </li> <li> <p>No note directory initialization</p> </li> <li> <p>Simplified file scanning without complex validation</p> </li> </ul>"},{"location":"about/changelog/#Fixed_1","title":"Fixed","text":"<ul> <li> <p>Code Complexity: Resolved over-engineering issues from v2.x architecture</p> </li> <li> <p>Removed unnecessary abstraction layers</p> </li> <li> <p>Eliminated redundant validation logic</p> </li> <li> <p>Simplified error handling and logging</p> </li> <li> <p>Maintenance Burden: Addressed difficulty in maintaining large codebase</p> </li> <li> <p>Reduced total lines of code by ~77% (12,000 \u2192 2,700 lines)</p> </li> <li> <p>Eliminated 6,000+ lines of test code for removed features</p> </li> <li> <p>Simplified dependency tree and module interactions</p> </li> </ul>"},{"location":"about/changelog/#Migration-Guide","title":"Migration Guide","text":"<p>For users upgrading from v2.x to v3.0.0:</p> <ol> <li> <p>Configuration Changes:</p> </li> <li> <p>Remove deprecated options: <code>assets_dir</code>, <code>notes_template</code>, <code>cache_size</code>, <code>exclude_patterns</code>, <code>use_git_timestamps</code>, <code>timestamp_zone</code></p> </li> <li> <p>Keep only: <code>enabled</code>, <code>notes_root</code>, <code>recent_notes_config</code>, <code>graph_config</code></p> </li> <li> <p>Asset Management:</p> </li> <li> <p>Plugin no longer manages assets automatically</p> </li> <li> <p>Organize assets manually in your preferred structure</p> </li> <li> <p>Use standard MkDocs asset handling</p> </li> <li> <p>Template Usage:</p> </li> <li> <p>Plugin no longer provides template system</p> </li> <li> <p>Create note templates manually if needed</p> </li> <li> <p>Use external tools for template management</p> </li> <li> <p>CLI Commands:</p> </li> <li> <p><code>mkdocs-note init</code>: No longer available (not needed)</p> </li> <li> <p><code>mkdocs-note validate</code>: No longer available (validation removed)</p> </li> <li> <p><code>mkdocs-note template</code>: No longer available (template system removed)</p> </li> <li> <p>Other commands (<code>new</code>, <code>remove</code>, <code>move</code>, <code>clean</code>) still available with simplified behavior</p> </li> <li> <p>Custom Integrations:</p> </li> <li> <p>If you imported internal modules (e.g., <code>mkdocs_note.utils.assetps</code>), these no longer exist</p> </li> <li> <p>Update imports to use new structure: <code>mkdocs_note.utils.meta</code>, <code>mkdocs_note.utils.scanner</code></p> </li> </ol>"},{"location":"about/changelog/#Technical-Details","title":"Technical Details","text":"<ul> <li> <p>Code Statistics:</p> </li> <li> <p>Files changed: 61 files</p> </li> <li> <p>Insertions: +2,702 lines</p> </li> <li> <p>Deletions: -9,329 lines</p> </li> <li> <p>Net reduction: -6,627 lines (-77% of v2.x codebase)</p> </li> <li> <p>Dependency Updates:</p> </li> <li> <p>Removed custom logging dependencies</p> </li> <li> <p>Simplified MkDocs integration</p> </li> <li> <p>Performance Improvements:</p> </li> <li> <p>Faster build times due to reduced processing overhead</p> </li> <li> <p>Lower memory footprint</p> </li> <li> <p>Simpler file scanning logic</p> </li> </ul>"},{"location":"about/changelog/#215---2025-10-30","title":"2.1.5 - 2025-10-30","text":""},{"location":"about/changelog/#Fixed_2","title":"Fixed","text":"<ul> <li> <p>[CRITICAL] Git Timestamp Inconsistency in Remote Deployments: Fixed critical bug where timestamps were identical for all notes except the most recent one when deployed via Vercel or other CI/CD platforms (#TBD)</p> </li> <li> <p>Root Cause: The <code>project_root</code> configuration was using <code>Path(__file__).parent.parent</code>, which pointed to the plugin installation directory (e.g., <code>site-packages/mkdocs_note/</code>) instead of the user's project root. This caused git commands to execute in the wrong directory, failing to retrieve correct commit timestamps.</p> </li> <li> <p>Why It Worked Locally But Failed in Deployment:</p> <ul> <li>Local Development: When using <code>uv run</code> or development mode, <code>__file__</code> might point to the source code directory, which could work by coincidence</li> <li>Remote Deployment: The plugin is installed via pip into <code>site-packages</code>, making <code>project_root</code> point to the wrong location, causing all git operations to fail</li> </ul> </li> <li> <p>Solutions Implemented:</p> <ul> <li> <p>Critical Fix in <code>plugin.py</code>: Modified <code>on_config()</code> to dynamically set <code>project_root</code> from MkDocs config file location instead of plugin installation path:   <pre><code>actual_project_root = Path(config.config_file_path).parent\nself.config.project_root = actual_project_root\n</code></pre></p> </li> <li> <p>Vercel Build Script: Updated <code>scripts/vercel-build.sh</code> to fetch full git history with <code>git fetch --unshallow</code> (additional safety measure)</p> </li> <li> <p>GitHub Actions: Updated <code>.github/workflows/ghpg.yml</code> to include <code>fetch-depth: 0</code> in checkout step (additional safety measure)</p> </li> <li> <p>Enhanced Git Logic: Improved <code>_get_git_commit_time()</code> method with:</p> </li> <li>Shallow clone detection via <code>.git/shallow</code> file check</li> <li>Debug warnings when shallow clone is detected</li> <li>Timestamp validation to prevent future/invalid timestamps</li> <li> <p>Better error handling and fallback to file system timestamps</p> </li> <li> <p>Documentation: Added comprehensive CI/CD deployment guide in <code>docs/usage/config.md</code> with examples for Vercel, GitHub Actions, and GitLab CI</p> </li> </ul> </li> <li> <p>Impact: This fix ensures git timestamps work correctly in all deployment scenarios. The plugin now correctly identifies the user's project directory regardless of how it's installed.</p> </li> </ul>"},{"location":"about/changelog/#Enhanced","title":"Enhanced","text":"<ul> <li>Dynamic Project Root Detection: Plugin now automatically detects project root from MkDocs configuration instead of relying on plugin installation path</li> <li>Shallow Clone Detection: Added <code>_is_shallow_clone()</code> helper method to detect when git repository is shallowly cloned</li> <li>Git Timestamp Validation: Added validation to ensure git timestamps are reasonable and not in the future</li> <li>Deployment Documentation: Added detailed CI/CD configuration examples for major platforms (Vercel, GitHub Actions, GitLab CI)</li> <li>Error Handling: Improved error handling for project root detection with proper fallbacks</li> </ul>"},{"location":"about/changelog/#214---2025-10-28","title":"2.1.4 - 2025-10-28","text":""},{"location":"about/changelog/#Added","title":"Added","text":"<ul> <li>Added <code>enable_asset_fallback</code> configuration option to control asset path fallback behavior</li> <li>Implemented asset path fallback mechanism: when processed asset files don't exist, the plugin now preserves original asset paths instead of replacing them with broken links</li> </ul>"},{"location":"about/changelog/#Enhanced_1","title":"Enhanced","text":"<ul> <li>Improved asset processing robustness by adding existence checks for processed asset files</li> <li>Enhanced logging to provide better feedback when asset fallback occurs</li> </ul>"},{"location":"about/changelog/#213---2025-10-19","title":"2.1.3 - 2025-10-19","text":""},{"location":"about/changelog/#Fixed_3","title":"Fixed","text":"<ul> <li>Fixed smoke test script in order to public package to PyPI properly.</li> </ul>"},{"location":"about/changelog/#212---2025-10-19","title":"2.1.2 - 2025-10-19","text":""},{"location":"about/changelog/#Fixed_4","title":"Fixed","text":"<ul> <li>Use direct file system path for static files to fix the issue where the network graph static assets were not copied to the site directory.</li> </ul>"},{"location":"about/changelog/#Added_1","title":"Added","text":"<ul> <li>Added <code>MANIFEST.in</code> file to include the network graph static assets in the package.</li> </ul>"},{"location":"about/changelog/#211---2025-10-19","title":"2.1.1 - 2025-10-19","text":""},{"location":"about/changelog/#Fixed_5","title":"Fixed","text":"<ul> <li>Fixed the issue where the network graph static assets were not copied to the site directory by using the <code>os.path.join</code> instead of the <code>Path</code> class.</li> </ul>"},{"location":"about/changelog/#210---2025-10-19-Network-Graph-Feature","title":"2.1.0 - 2025-10-19 (Network Graph Feature)","text":""},{"location":"about/changelog/#Added_2","title":"Added","text":"<ul> <li>Network Graph Visualization: Interactive network graph showing relationships between notes (#20)</li> <li>Automatic link detection based on markdown links and wiki-style links</li> <li>D3.js-powered interactive visualization with drag, zoom, and pan</li> <li>Integration with Material for MkDocs theme</li> <li>Graph data export in JSON format</li> <li>Configurable node naming strategy (title or filename)</li> <li>Debug logging for graph generation process</li> </ul>"},{"location":"about/changelog/#Technical-Details_1","title":"Technical Details","text":"<ul> <li>New Module: <code>utils/graphps/</code> for graph processing functionality</li> <li><code>graph.py</code>: Graph data structure and link detection</li> <li><code>handlers.py</code>: Graph handler for plugin integration</li> <li>Static Assets: Added <code>graph.js</code> and <code>graph.css</code> for frontend visualization</li> <li>Configuration: Added <code>enable_network_graph</code> and <code>graph_config</code> options</li> <li>Build Integration: Automatic graph generation during MkDocs build process</li> </ul>"},{"location":"about/changelog/#200---2025-10-17-Structure-Breaking-Changes","title":"2.0.0 - 2025-10-17 (Structure-Breaking Changes)","text":""},{"location":"about/changelog/#Changed_1","title":"Changed","text":"<ul> <li> <p>[BREAKING] Modular Architecture Refactoring: Reorganized project structure from monolithic <code>core/</code> to modular <code>utils/</code> packages (#15)</p> </li> <li> <p>Restructured modules by functional domains:</p> <ul> <li> <p><code>utils/assetps/</code>: Asset processing and management</p> </li> <li> <p><code>utils/dataps/</code>: Data models and metadata management (includes frontmatter subsystem)</p> </li> <li> <p><code>utils/docsps/</code>: Document operations (create, move, remove, clean, process)</p> </li> <li> <p><code>utils/fileps/</code>: File I/O and scanning</p> </li> <li> <p><code>utils/pathps/</code>: Path processing utilities (reserved for future)</p> </li> </ul> </li> <li> <p>Introduced <code>ps</code> (Processors) naming convention for consistent module organization</p> </li> <li> <p>Migration details:</p> <ul> <li> <p><code>core/data_models.py</code> \u2192 <code>utils/dataps/meta.py</code></p> </li> <li> <p><code>core/frontmatter_manager.py</code> \u2192 <code>utils/dataps/frontmatter/handlers.py</code></p> </li> <li> <p><code>core/file_manager.py</code> \u2192 <code>utils/fileps/handlers.py</code></p> </li> <li> <p><code>core/assets_manager.py</code> \u2192 <code>utils/assetps/handlers.py</code></p> </li> <li> <p><code>core/note_manager.py</code> \u2192 <code>utils/docsps/handlers.py</code></p> </li> <li> <p><code>core/note_creator.py</code> \u2192 <code>utils/docsps/creator.py</code></p> </li> <li> <p><code>core/note_cleaner.py</code> \u2192 <code>utils/docsps/cleaner.py</code></p> </li> <li> <p><code>core/note_initializer.py</code> \u2192 <code>utils/docsps/initializer.py</code></p> </li> <li> <p><code>core/note_remover.py</code> \u2192 <code>utils/docsps/remover.py</code></p> </li> <li> <p><code>core/notes_mover.py</code> \u2192 <code>utils/docsps/mover.py</code></p> </li> </ul> </li> <li> <p>Updated all import paths throughout codebase (15+ files)</p> </li> <li> <p>Updated all test files and mock paths</p> </li> <li> <p>Benefits:</p> <ul> <li> <p>\u2705 Clear Separation of Concerns: Each package focuses on single responsibility</p> </li> <li> <p>\u2705 Better Extensibility: Easy to add new features without modifying core</p> </li> <li> <p>\u2705 Improved Maintainability: Easier to locate and understand code</p> </li> <li> <p>\u2705 Better Testing: More focused unit tests per module</p> </li> </ul> </li> <li> <p>Test Suite Optimization: Streamlined test suite for better focus</p> </li> <li> <p>Removed 6 non-essential logger tests (testing framework behavior)</p> </li> <li> <p>Test count: 240 \u2192 227 tests</p> </li> <li> <p>Maintained 100% pass rate</p> </li> <li> <p>Code coverage: 71% overall</p> </li> <li> <p>Asset Directory Structure: Simplified asset directory organization from centralized to co-located structure</p> </li> <li> <p>Assets are now placed next to their corresponding notes instead of in a centralized location</p> </li> <li> <p>New pattern: <code>note_file.parent / \"assets\" / note_file.stem</code></p> </li> <li> <p>Examples:</p> <ul> <li> <p>Note: <code>docs/usage/contributing.md</code> \u2192 Assets: <code>docs/usage/assets/contributing/</code></p> </li> <li> <p>Note: <code>docs/notes/python/intro.md</code> \u2192 Assets: <code>docs/notes/python/assets/intro/</code></p> </li> </ul> </li> <li> <p>Benefits:</p> <ul> <li> <p>\u2705 Co-located: Assets are right next to their notes for easier management</p> </li> <li> <p>\u2705 Portable: Moving notes with their assets is straightforward</p> </li> <li> <p>\u2705 Consistent: No path mismatches when notes are outside <code>notes_dir</code></p> </li> <li> <p>\u2705 Simpler: No dependency on <code>notes_dir</code> or <code>assets_dir</code> configuration</p> </li> </ul> </li> <li> <p>Breaking Change: Existing assets in centralized structure need migration</p> </li> <li> <p>Updated components:</p> <ul> <li> <p><code>NoteCreator._get_asset_directory()</code>: Simplified logic</p> </li> <li> <p><code>NoteRemover._get_asset_directory()</code>: Co-located pattern</p> </li> <li> <p><code>NoteMover._get_asset_directory()</code>: Co-located pattern</p> </li> <li> <p><code>NoteCleaner.find_orphaned_assets()</code>: Searches all <code>assets/</code> subdirectories</p> </li> <li> <p><code>NoteInitializer._analyze_asset_tree()</code>: Validates co-located structure</p> </li> </ul> </li> <li> <p>Configuration Deprecation: <code>assets_dir</code> configuration option is now deprecated</p> </li> <li> <p>The option is kept for backward compatibility but no longer used</p> </li> <li> <p>Assets are automatically placed using the co-located pattern</p> </li> </ul>"},{"location":"about/changelog/#Security","title":"Security","text":"<ul> <li> <p>Inconsistency with exclude_patterns in Note Operations (#40): Fixed bug where plugin commands could create or move notes to excluded filenames, causing asset management conflicts</p> </li> <li> <p>Root Cause: <code>NoteCreator</code> and <code>NoteMover</code> didn't check <code>exclude_patterns</code> configuration, allowing operations on <code>index.md</code> and <code>README.md</code> files that would later be ignored by <code>NoteScanner</code>, causing their asset directories to be incorrectly identified as orphaned by <code>NoteCleaner</code></p> </li> <li> <p>Solution: Added <code>exclude_patterns</code> validation across multiple components to enforce consistent behavior</p> </li> <li> <p>Changes:</p> <ul> <li> <p>NoteCreator: Added validation in <code>create_new_note()</code> and <code>validate_note_creation()</code> to reject creation of excluded files</p> </li> <li> <p>NoteMover: Added validation in <code>move_note()</code> to prevent moving/renaming to excluded filenames</p> </li> <li> <p>CLI: Added validation in <code>move_note</code> command (mv/move) to check destination filenames</p> </li> <li> <p>Config Documentation: Improved <code>exclude_patterns</code> docstring to clarify comprehensive scope of exclusion</p> </li> <li> <p>Tests: Added 6 new test cases (4 for creator, 2 for mover) to verify exclusion behavior</p> </li> </ul> </li> <li> <p>Impact: Ensures consistent behavior across all plugin components - files excluded from management cannot be created, moved, or renamed through plugin commands</p> </li> <li> <p>User Experience: Clear error messages guide users when attempting operations with excluded files, suggesting either using different filenames or updating configuration</p> </li> <li> <p>CLI Error Message Clarity: Improved contextual hints in <code>mkdocs-note new</code> command</p> </li> <li> <p>Issue: The hint \"Try running 'mkdocs-note init' first\" was displayed for all validation errors, even when irrelevant (e.g., excluded filenames, file exists, unsupported extensions)</p> </li> <li> <p>Solution: Made hints contextual - now only shows init suggestion when actually relevant (structure non-compliance, missing parent directory)</p> </li> <li> <p>Impact: Users receive more relevant guidance based on the specific error they encounter</p> </li> </ul>"},{"location":"about/changelog/#Fixed_6","title":"Fixed","text":"<ul> <li> <p>Template File Degradation (#39): Fixed critical bug where template file was corrupted by tests</p> </li> <li> <p>Root Cause: Test <code>test_note_initializer.py::test_ensure_template_file_exists</code> was writing to real project template file (<code>overrides/templates/default.md</code>) instead of using temporary files</p> </li> <li> <p>Impact: Production template was degraded from proper frontmatter template to single-line comment: <code># Template content</code></p> </li> <li> <p>Solution:</p> <ul> <li> <p>Restored template file with correct frontmatter structure</p> </li> <li> <p>Updated test to use temporary paths with proper cleanup via try-finally</p> </li> <li> <p>Modified <code>NoteInitializer._ensure_template_file()</code> to create complete default template instead of empty file</p> </li> </ul> </li> <li> <p>Template Content: Ensures new templates include proper frontmatter:</p> <pre><code>---\ndate: {{date}}\ntitle: {{title}}\npermalink: \npublish: true\n---\n\n# {{title}}\n\nStart writing your note content...\n</code></pre> </li> <li> <p>Prevention: Established test isolation best practice - always use temporary files/directories in tests</p> </li> <li> <p>Test Configuration: Corrected test assertions to match actual configuration defaults</p> </li> <li> <p><code>notes_template</code>: Updated assertion from <code>'docs/templates/default.md'</code> to <code>'overrides/templates/default.md'</code></p> </li> <li> <p><code>notes_dir</code>: Updated assertions from <code>'docs/notes'</code> to <code>'docs'</code> (actual default)</p> </li> </ul>"},{"location":"about/changelog/#Added_3","title":"Added","text":"<ul> <li> <p>Frontmatter Metadata System (#15): Implemented comprehensive frontmatter management system for notes</p> </li> <li> <p>Added <code>NoteFrontmatter</code> data class to <code>data_models.py</code> for storing note metadata</p> </li> <li> <p>Created <code>frontmatter_manager.py</code> module with extensible metadata registration system:</p> <ul> <li> <p><code>MetadataRegistry</code>: Central registry for managing metadata fields</p> </li> <li> <p><code>MetadataField</code>: Definition class for metadata fields with type validation</p> </li> <li> <p><code>FrontmatterParser</code>: YAML frontmatter parser for markdown files</p> </li> <li> <p><code>FrontmatterManager</code>: High-level facade for frontmatter operations</p> </li> </ul> </li> <li> <p>Standard metadata fields: <code>date</code>, <code>permalink</code>, <code>publish</code></p> </li> <li> <p>Support for custom metadata fields through registration interface</p> </li> <li> <p>Metadata validation system with type checking and custom validators</p> </li> <li> <p>Template System Enhancement: Improved note template framework</p> </li> <li> <p>Template variables now only substitute in frontmatter section, keeping note body clean</p> </li> <li> <p>Support for both new frontmatter-style templates and legacy templates</p> </li> <li> <p>Automatic detection and handling of template types</p> </li> <li> <p>Updated default template with frontmatter structure</p> </li> <li> <p>Metadata Integration:</p> </li> <li> <p><code>NoteProcessor</code> now extracts frontmatter from markdown notes</p> </li> <li> <p><code>NoteInfo</code> dataclass extended with optional <code>frontmatter</code> field</p> </li> <li> <p><code>NoteCreator</code> generates notes with proper frontmatter structure</p> </li> </ul>"},{"location":"about/changelog/#Changed_2","title":"Changed","text":"<ul> <li> <p>Dependencies: Added <code>pyyaml&gt;=6.0</code> for YAML frontmatter parsing</p> </li> <li> <p>Default Template: Updated to include frontmatter with standard fields</p> </li> <li> <p>Project Configuration: Added <code>build-system</code> to <code>pyproject.toml</code> for proper package installation</p> </li> </ul>"},{"location":"about/changelog/#Technical-Details_2","title":"Technical Details","text":"<ul> <li> <p>Extensibility: Metadata system uses registration pattern for easy extension without modifying core code</p> </li> <li> <p>Backward Compatibility: Existing notes without frontmatter continue to work normally</p> </li> <li> <p>Type Safety: Comprehensive type hints throughout frontmatter system</p> </li> <li> <p>Testing: Added 31 unit tests for frontmatter management system (all passing)</p> </li> </ul>"},{"location":"about/changelog/#Documentation","title":"Documentation","text":"<ul> <li> <p>Architecture Documentation: Created comprehensive new <code>docs/architecture.md</code> for v2.0.0+</p> </li> <li> <p>Documents modular architecture with detailed diagrams</p> </li> <li> <p>Explains design decisions and rationale for refactoring</p> </li> <li> <p>Includes migration guide from v1.x structure</p> </li> <li> <p>Provides developer guidelines and extensibility examples</p> </li> <li> <p>Covers all new modules: assetps, dataps, docsps, fileps, pathps</p> </li> <li> <p>Legacy Documentation: Preserved <code>docs/architecture-old.md</code> for v1.x reference</p> </li> <li> <p>Enhanced code documentation with detailed docstrings</p> </li> <li> <p>Added inline examples for metadata registration usage</p> </li> </ul>"},{"location":"about/changelog/#Testing","title":"Testing","text":"<ul> <li> <p>Test Results: All 227 tests passing (100% success rate)</p> </li> <li> <p>Migrated all test imports to new module paths</p> </li> <li> <p>Updated all mock paths in test decorators</p> </li> <li> <p>Fixed test file pollution issues</p> </li> <li> <p>Test breakdown:</p> <ul> <li> <p>Asset management: 29 tests \u2705</p> </li> <li> <p>File management: 18 tests \u2705</p> </li> <li> <p>Frontmatter system: 31 tests \u2705</p> </li> <li> <p>Note cleaner: 16 tests \u2705</p> </li> <li> <p>Note creator: 19 tests \u2705</p> </li> <li> <p>Note initializer: 13 tests \u2705</p> </li> <li> <p>Note manager: 34 tests \u2705</p> </li> <li> <p>Note remover: 6 tests \u2705</p> </li> <li> <p>Configuration: 23 tests \u2705</p> </li> <li> <p>Plugin: 29 tests \u2705</p> </li> <li> <p>Smoke tests: 4 tests \u2705</p> </li> <li> <p>Help: 5 tests \u2705</p> </li> </ul> </li> <li> <p>Code Coverage: 71% overall coverage maintained</p> </li> </ul>"},{"location":"about/changelog/#125---2025-10-13","title":"1.2.5 - 2025-10-13","text":""},{"location":"about/changelog/#Fixed_7","title":"Fixed","text":"<ul> <li>Fix some dependencies issues in <code>pyproject.toml</code></li> </ul>"},{"location":"about/changelog/#Changed_3","title":"Changed","text":"<ul> <li>Remove <code>setup.py</code> and <code>requirements.txt</code>, use <code>pyproject.toml</code> instead.</li> </ul>"},{"location":"about/changelog/#124---2025-10-13","title":"1.2.4 - 2025-10-13","text":""},{"location":"about/changelog/#Fixed_8","title":"Fixed","text":"<ul> <li>Dependencies: Added <code>mkdocs-material&gt;=9.6.4</code> to <code>pyproject.toml</code> and <code>setup.py</code></li> </ul>"},{"location":"about/changelog/#123---2025-10-13","title":"1.2.3 - 2025-10-13","text":""},{"location":"about/changelog/#Fixed_9","title":"Fixed","text":"<ul> <li>Dependencies: Added <code>mkdocs-material&gt;=9.6.14</code>, <code>mkdocs-jupyter&gt;=0.25.1</code>, <code>mkdocs-minify-plugin&gt;=0.8.0</code>, <code>mkdocs-git-revision-date-localized-plugin&gt;=1.4.0</code> to <code>pyproject.toml</code> and <code>setup.py</code></li> </ul>"},{"location":"about/changelog/#122---2025-10-13","title":"1.2.2 - 2025-10-13","text":""},{"location":"about/changelog/#Fixed_10","title":"Fixed","text":"<ul> <li>Dependencies: Added <code>pyyaml&gt;=6.0</code> and <code>pymdown-extensions&gt;=10.15</code> to <code>pyproject.toml</code> and <code>setup.py</code></li> </ul>"},{"location":"about/changelog/#121---2025-10-13","title":"1.2.1 - 2025-10-13","text":""},{"location":"about/changelog/#Fixed_11","title":"Fixed","text":"<ul> <li> <p>CLI Configuration Loading: Fixed CLI tools not respecting user's custom configuration from <code>mkdocs.yml</code> (#23)</p> </li> <li> <p>Previously, CLI commands (<code>validate</code>, <code>init</code>, <code>new</code>, etc.) always used default configuration values, ignoring user's custom settings in <code>mkdocs.yml</code></p> </li> <li> <p>This caused commands to operate on wrong directories (e.g., validating <code>docs/notes</code> when user configured <code>docs/usage</code>)</p> </li> <li> <p>Implemented <code>load_config_from_mkdocs_yml()</code> function to parse and load plugin configuration from <code>mkdocs.yml</code></p> </li> <li> <p>Added automatic <code>mkdocs.yml</code> file discovery in current and parent directories</p> </li> <li> <p>CLI now correctly applies user's custom configuration for all commands</p> </li> <li> <p>Added comprehensive unit tests for configuration loading functionality</p> </li> </ul>"},{"location":"about/changelog/#120---2025-10-11","title":"1.2.0 - 2025-10-11","text":""},{"location":"about/changelog/#Added_4","title":"Added","text":"<ul> <li> <p>CLI Note Removal: Added <code>mkdocs-note remove</code> (alias: <code>rm</code>) command for deleting notes and their asset directories (#19)</p> </li> <li> <p>Removes note file and its corresponding asset directory</p> </li> <li> <p>Option <code>--keep-assets</code> to preserve asset directory while removing note</p> </li> <li> <p>Option <code>--yes</code> / <code>-y</code> to skip confirmation prompt</p> </li> <li> <p>Automatically cleans up empty parent directories after removal</p> </li> <li> <p>Validates file extension before removal</p> </li> <li> <p>CLI Orphaned Assets Cleanup: Added <code>mkdocs-note clean</code> command for cleaning up orphaned asset directories (#19)</p> </li> <li> <p>Scans notes directory and assets directory to find orphaned assets</p> </li> <li> <p>Identifies asset directories without corresponding note files</p> </li> <li> <p>Option <code>--dry-run</code> to preview what would be removed without actually removing</p> </li> <li> <p>Option <code>--yes</code> / <code>-y</code> to skip confirmation prompt</p> </li> <li> <p>Automatically cleans up empty parent directories after cleanup</p> </li> <li> <p>CLI Note Movement: Added <code>mkdocs-note move</code> (alias: <code>mv</code>) command for moving/renaming notes and directories</p> </li> <li> <p>Mimics shell <code>mv</code> command behavior: if destination exists and is a directory, moves source into it</p> </li> <li> <p>Moves or renames note file or entire directory with its asset directories simultaneously</p> </li> <li> <p>Supports moving single notes or entire directories with all notes inside</p> </li> <li> <p>Supports both simple renaming and moving into existing directories</p> </li> <li> <p>Example: <code>mkdocs-note mv docs/notes/dsa/ds/trees docs/notes/dsa</code> moves to <code>docs/notes/dsa/trees</code></p> </li> <li> <p>Option <code>--keep-source-assets</code> to preserve source asset directory</p> </li> <li> <p>Option <code>--yes</code> / <code>-y</code> to skip confirmation prompt</p> </li> <li> <p>Automatically creates necessary parent directories</p> </li> <li> <p>Automatically cleans up empty parent directories in source location</p> </li> <li> <p>Includes rollback mechanism in case of errors</p> </li> <li> <p>Intelligently handles tree-based asset structure when moving directories</p> </li> <li> <p>Core Modules: Added new core modules for note management</p> </li> <li> <p><code>note_remover.py</code>: Handles note file and asset directory removal</p> </li> <li> <p><code>note_cleaner.py</code>: Manages orphaned asset cleanup and note movement operations</p> </li> <li> <p><code>notes_mover.py</code>: Handles note file and directory movement and renaming with their assets correspondingly</p> </li> <li> <p>Both modules properly handle tree-based asset structure with <code>.assets</code> suffix</p> </li> </ul>"},{"location":"about/changelog/#Changed_4","title":"Changed","text":"<ul> <li> <p>CLI User Experience: Enhanced CLI commands with better user feedback</p> </li> <li> <p>Added emoji indicators for better visual feedback (\u2705, \u274c, \u26a0\ufe0f, \ud83d\udcdd, \ud83d\udcc1, \ud83d\udd0d)</p> </li> <li> <p>Added clear confirmation prompts for destructive operations</p> </li> <li> <p>Improved error messages with helpful suggestions</p> </li> </ul>"},{"location":"about/changelog/#114---2025-10-09","title":"1.1.4 - 2025-10-09","text":""},{"location":"about/changelog/#Fixed_12","title":"Fixed","text":"<ul> <li> <p>CLI Note Creation: Fixed <code>mkdocs-note new</code> command validation logic issue (#14)</p> </li> <li> <p>Previously, the command was using <code>file_path.parent</code> as the notes directory for validation, causing incorrect asset tree structure checks</p> </li> <li> <p>This resulted in <code>validate</code> command passing but <code>new</code> command failing with \"Asset tree structure is not compliant\" errors</p> </li> <li> <p>Now both <code>create_new_note()</code> and <code>validate_note_creation()</code> methods use the configured <code>notes_dir</code> from settings for consistent validation</p> </li> <li> <p>This ensures that <code>mkdocs-note validate</code> and <code>mkdocs-note new</code> use the same validation logic</p> </li> </ul>"},{"location":"about/changelog/#113---2025-10-08","title":"1.1.3 - 2025-10-08","text":""},{"location":"about/changelog/#Added_5","title":"Added","text":"<ul> <li> <p>Timestamp Configuration: Added <code>timestamp_zone</code> configuration option (default: <code>UTC+0</code>) to ensure consistent timestamp display across different deployment environments</p> </li> <li> <p>Implemented automatic fallback to UTC timezone when invalid timezone format is provided</p> </li> <li> <p>Added comprehensive documentation for timestamp configuration options</p> </li> </ul>"},{"location":"about/changelog/#Fixed_13","title":"Fixed","text":"<ul> <li>Timestamp Display: Fixed issue where timestamp was not displayed correctly in note files - plugin now uses configured timezone for timestamp display</li> </ul>"},{"location":"about/changelog/#112---2025-10-06","title":"1.1.2 - 2025-10-06","text":""},{"location":"about/changelog/#Fixed_14","title":"Fixed","text":"<ul> <li> <p>Fixed <code>mkdocs-note init</code> command to correctly use tree-based asset directory structure</p> </li> <li> <p>Previously, the init command was creating asset directories in a flat structure (e.g., <code>assets/note-name/</code>) instead of mirroring the notes directory hierarchy</p> </li> <li> <p>Now uses <code>get_note_relative_path()</code> function consistently across all components to ensure proper tree-based structure</p> </li> <li> <p>Updated <code>_check_compliance()</code> method to correctly validate tree-based structures with <code>.assets</code> suffix on first-level subdirectories</p> </li> <li> <p>This ensures that <code>mkdocs-note init</code> and <code>mkdocs-note new</code> create consistent directory structures</p> </li> </ul>"},{"location":"about/changelog/#111---2025-10-06","title":"1.1.1 - 2025-10-06","text":""},{"location":"about/changelog/#Changed_5","title":"Changed","text":"<ul> <li> <p>[BREAKING CHANGE] Improved assets manager to use tree-based path structure instead of linear table</p> </li> <li> <p>Assets are now organized by note's relative path from notes directory, preventing conflicts between notes with same name in different subdirectories</p> </li> <li> <p>First-level subdirectories in assets tree now have <code>.assets</code> suffix for better identification (e.g., <code>assets/dsa.assets/anal/intro/</code> for note <code>dsa/anal/intro.md</code>)</p> </li> <li> <p>Updated <code>AssetsCatalogTree</code> to support hierarchical path management</p> </li> <li> <p>Updated <code>AssetsProcessor</code> to calculate asset paths based on note's relative location</p> </li> <li> <p>Updated <code>NoteCreator</code> to create asset directories using the new path structure</p> </li> <li> <p>Improved asset path conversion in plugin to use correct relative paths from note file location</p> </li> </ul>"},{"location":"about/changelog/#Fixed_15","title":"Fixed","text":"<ul> <li> <p>Fixed asset directory conflicts when notes have the same name but exist in different paths (#10)</p> </li> <li> <p>Fixed asset link replacement issues in note files - plugin now correctly converts relative image references to proper paths during MkDocs build (#10)</p> </li> <li> <p>Fixed path resolution in plugin to properly handle <code>docs_dir</code> and calculate correct relative paths for assets</p> </li> </ul>"},{"location":"about/changelog/#110---2025-10-05","title":"1.1.0 - 2025-10-05","text":""},{"location":"about/changelog/#Added_6","title":"Added","text":"<ul> <li> <p>Command Line Interface: Added comprehensive CLI commands for note management</p> </li> <li> <p><code>mkdocs note init</code>: Initialize notes directory with proper asset structure</p> </li> <li> <p><code>mkdocs note new</code>: Create new notes with template support</p> </li> <li> <p><code>mkdocs note validate</code>: Validate asset tree structure compliance</p> </li> <li> <p><code>mkdocs note template</code>: Manage note templates</p> </li> <li> <p>Asset Management System: Complete asset management infrastructure</p> </li> <li> <p>Automatic asset directory creation for each note</p> </li> <li> <p>Asset tree structure validation and compliance checking</p> </li> <li> <p>Asset path processing and linking during build</p> </li> <li> <p>Support for image references and media files</p> </li> <li> <p>Template System: Flexible note template system with variable substitution</p> </li> <li> <p>Configurable note templates with <code>{{title}}</code>, <code>{{date}}</code>, and <code>{{note_name}}</code> variables</p> </li> <li> <p>Default template with proper structure</p> </li> <li> <p>Custom template support via CLI</p> </li> <li> <p>Template validation and creation tools</p> </li> <li> <p>Note Initializer: Comprehensive note directory initialization</p> </li> <li> <p>Asset tree analysis and compliance checking</p> </li> <li> <p>Automatic structure repair for non-compliant directories</p> </li> <li> <p>Index file creation with proper markers</p> </li> <li> <p>Template file management</p> </li> <li> <p>Note Creator: Advanced note creation with validation</p> </li> <li> <p>Template-based note generation</p> </li> <li> <p>Asset directory creation</p> </li> <li> <p>Structure compliance validation</p> </li> <li> <p>Custom template support</p> </li> <li> <p>Enhanced Configuration: New configuration options</p> </li> <li> <p><code>assets_dir</code>: Directory for storing note assets</p> </li> <li> <p><code>notes_template</code>: Template file for new notes</p> </li> <li> <p><code>cache_size</code>: Performance optimization cache size</p> </li> </ul>"},{"location":"about/changelog/#Changed_6","title":"Changed","text":"<ul> <li> <p>Asset Integration: Seamless asset management integration</p> </li> <li> <p>Automatic asset path processing in markdown content</p> </li> <li> <p>Asset directory structure enforcement</p> </li> <li> <p>Improved asset linking and organization</p> </li> <li> <p>Template Processing: Enhanced template system</p> </li> <li> <p>Variable substitution with proper formatting</p> </li> <li> <p>Fallback template support</p> </li> <li> <p>Template validation and error handling</p> </li> </ul>"},{"location":"about/changelog/#Fixed_16","title":"Fixed","text":"<ul> <li> <p>Test Coverage: Comprehensive test suite improvements</p> </li> <li> <p>Fixed template content generation tests</p> </li> <li> <p>Enhanced test coverage for new components</p> </li> <li> <p>Improved test reliability and accuracy</p> </li> <li> <p>Documentation: Complete documentation updates</p> </li> <li> <p>Updated README with new features</p> </li> <li> <p>Added CLI usage examples</p> </li> <li> <p>Enhanced configuration documentation</p> </li> <li> <p>Improved troubleshooting guides</p> </li> </ul>"},{"location":"about/changelog/#103---2025-10-04","title":"1.0.3 - 2025-10-04","text":""},{"location":"about/changelog/#Added_7","title":"Added","text":"<ul> <li> <p>Added PyPI CI</p> </li> <li> <p>Added smoke test script</p> </li> <li> <p>Added release script</p> </li> </ul>"},{"location":"about/changelog/#102---2025-10-03","title":"1.0.2 - 2025-10-03","text":""},{"location":"about/changelog/#Fixed_17","title":"Fixed","text":"<ul> <li> <p>Fixed sorting inconsistency between local development and remote deployment environments</p> </li> <li> <p>Resolved issue where notes were sorted alphabetically instead of by modification time on deployed sites</p> </li> </ul>"},{"location":"about/changelog/#Added_8","title":"Added","text":"<ul> <li> <p>Added <code>use_git_timestamps</code> configuration option (default: <code>true</code>) to use Git commit timestamps for consistent sorting</p> </li> <li> <p>Implemented automatic fallback to file system timestamps when Git is not available</p> </li> <li> <p>Added comprehensive documentation for sorting behavior and deployment considerations</p> </li> </ul>"},{"location":"about/changelog/#Changed_7","title":"Changed","text":"<ul> <li> <p>Modified note processing logic to prioritize Git commit timestamps over file system timestamps</p> </li> <li> <p>Enhanced sorting reliability across different deployment platforms (Vercel, Netlify, GitHub Pages)</p> </li> <li> <p>Updated README with detailed explanation of sorting behavior and configuration options</p> </li> </ul>"},{"location":"about/changelog/#101---2025-10-03","title":"1.0.1 - 2025-10-03","text":""},{"location":"about/changelog/#Fixed_18","title":"Fixed","text":"<ul> <li>fix the configuration validation issue in #2</li> </ul>"},{"location":"about/changelog/#100---2025-10-02","title":"1.0.0 - 2025-10-02","text":""},{"location":"about/changelog/#Removed_1","title":"Removed","text":"<ul> <li>All of before</li> </ul>"},{"location":"about/changelog/#Changed_8","title":"Changed","text":"<ul> <li> <p>Refactored the underlying file management and note management logic.</p> </li> <li> <p>Refactored the calling logic and data flow of note management.</p> </li> <li> <p>Now only one feature which can insert recent notes at index page of notebook directory has been implemented.</p> </li> <li> <p>All things are to be restored, step by step!</p> </li> </ul>"},{"location":"about/changelog/#Fixed_19","title":"Fixed","text":"<ul> <li>Documented common configuration issues, especially YAML indentation errors that cause \"Invalid config options\" errors</li> </ul>"},{"location":"about/changelog/#Added_9","title":"Added","text":"<ul> <li> <p>Added configuration format warnings in README documentation</p> </li> <li> <p>Documented Jupyter DeprecationWarning explanation (not a plugin error)</p> </li> </ul>"},{"location":"about/changelog/#001---2025-09-05","title":"0.0.1 - 2025-09-05","text":""},{"location":"about/changelog/#Added_10","title":"Added","text":"<ul> <li> <p>The project was initialized </p> </li> <li> <p>The initial framework is based on https://github.com/stalomeow/note/blob/5fa56a9fdfa4c9b6511c5dc0c3d3620ae0aa04c3/scripts/obsidian.py</p> </li> <li> <p>However, the framework and features are too redundant to continue development and maintenance independently for me.</p> </li> </ul>"},{"location":"about/credits/","title":"Credits","text":"<p>This project is inspired by the following projects:</p> <ul> <li> <p>MkDocs</p> </li> <li> <p>Material for MkDocs</p> </li> <li> <p>MkDocs Network Graph Plugin</p> </li> </ul> <p>Thanks to all of you on which I stood to create these things!</p>"},{"location":"about/license/","title":"License","text":"<p>The plugin is licensed under the GNU General Public License v3.0 bacause of my caring about improvements sharing and open source.</p> <p>May the spirit of open source endure forever!</p>"},{"location":"contributing/architecture/","title":"Architecture Overview (v3.0.0+)","text":"<p>This document describes the complete architecture of the MkDocs-Note plugin in v3.0.0+, which adopts a simplified, lightweight design philosophy focused on core documentation needs.</p>"},{"location":"contributing/architecture/#Project-Overview","title":"Project Overview","text":""},{"location":"contributing/architecture/#Project-Positioning","title":"Project Positioning","text":"<p>MkDocs Note is now a lightweight documentation plugin designed specifically for MkDocs and Material for MkDocs theme. It focuses on essential note management features with minimal complexity.</p> <p>It just a simple python-based tool that help you manage your notes in MkDocs documentation site, why not make it simpler and concise?</p>"},{"location":"contributing/architecture/#Core-Design-Philosophy","title":"Core Design Philosophy","text":"<ul> <li> <p>Simplicity First: Minimal code, focused features, easy to understand and maintain</p> </li> <li> <p>Co-located Resources: Asset directories placed alongside note files following the pattern <code>note_file.parent / \"assets\" / note_file.stem</code></p> </li> <li> <p>Metadata-driven: Simple frontmatter-based metadata (date, title, publish status)</p> </li> <li> <p>MkDocs Integration: Seamless integration with MkDocs ecosystem, leveraging existing infrastructure</p> </li> </ul>"},{"location":"contributing/architecture/#Architecture-Evolution","title":"Architecture Evolution","text":""},{"location":"contributing/architecture/#Architecture-Timeline","title":"Architecture Timeline","text":"Version Date Philosophy Code Size Complexity v1.x Early Basic functionality ~3,000 lines Low v2.0.0 Oct, 2025 Feature-rich, modular ~12,000 lines High v3.0.0 2025-11-04 Lightweight, simple ~2,700 lines Low"},{"location":"contributing/architecture/#From-v2x-to-v300-Major-Simplification","title":"From v2.x to v3.0.0 (Major Simplification)","text":"<p>v2.x Problems:</p> <ul> <li> <p>\u274c Over-engineered: Complex modular architecture (<code>assetps/</code>, <code>dataps/</code>, <code>docsps/</code>, <code>fileps/</code>, <code>graphps/</code>)</p> </li> <li> <p>\u274c Too many abstractions: 9,300+ lines of code, hard to maintain</p> </li> <li> <p>\u274c Feature creep: Template system, validation, initialization commands</p> </li> <li> <p>\u274c High maintenance burden: Many moving parts, potential bugs</p> </li> </ul> <p>v3.0.0 Solutions (PR #60):</p> <ul> <li> <p>\u2705 Flat Structure: Moved core modules to package root</p> </li> <li> <p>\u2705 Minimal Utils: Only essential utilities (<code>meta.py</code>, <code>scanner.py</code>, <code>cli/</code>)</p> </li> <li> <p>\u2705 Removed Features: Asset management system, template system, validation commands</p> </li> <li> <p>\u2705 Retained Core: Recent notes, network graph, basic CLI commands</p> </li> <li> <p>\u2705 Code Reduction: From ~12,000 to ~2,700 lines (77% reduction)</p> </li> </ul>"},{"location":"contributing/architecture/#Design-Trade-offs","title":"Design Trade-offs","text":"<p>What We Removed:</p> <ul> <li> <p>\u274c Asset management subsystem (<code>utils/assetps/</code>)</p> </li> <li> <p>\u274c Data models and frontmatter system (<code>utils/dataps/</code>)</p> </li> <li> <p>\u274c Document operations (creator, cleaner, mover, remover - <code>utils/docsps/</code>)</p> </li> <li> <p>\u274c File I/O abstraction layer (<code>utils/fileps/</code>)</p> </li> <li> <p>\u274c Advanced CLI commands (<code>init</code>, <code>validate</code>, <code>template</code>)</p> </li> <li> <p>\u274c Custom logging module</p> </li> </ul> <p>What We Kept:</p> <ul> <li> <p>\u2705 Recent notes display</p> </li> <li> <p>\u2705 Network graph visualization</p> </li> <li> <p>\u2705 Basic CLI: <code>new</code>, <code>remove</code>, <code>move</code>, <code>clean</code></p> </li> <li> <p>\u2705 Simple metadata extraction</p> </li> </ul>"},{"location":"contributing/architecture/#Simplified-Architecture-v300","title":"Simplified Architecture (v3.0.0+)","text":""},{"location":"contributing/architecture/#Overall-Structure-Diagram","title":"Overall Structure Diagram","text":"<pre><code>mkdocs-note/\n\u251c\u2500\u2500 src/mkdocs_note/\n\u2502   \u251c\u2500\u2500 __init__.py              # Package initialization\n\u2502   \u251c\u2500\u2500 plugin.py                # MkDocs plugin entry point\n\u2502   \u251c\u2500\u2500 cli.py                   # Command-line interface entry point\n\u2502   \u251c\u2500\u2500 config.py                # Configuration management\n\u2502   \u251c\u2500\u2500 graph.py                 # Network graph functionality\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 static/                  # Static assets for graph visualization\n\u2502   \u2502   \u251c\u2500\u2500 graph.js\n\u2502   \u2502   \u2514\u2500\u2500 graph.css\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 utils/                   # Minimal utility modules\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 meta.py              # Metadata extraction (title, date, frontmatter validation)\n\u2502       \u251c\u2500\u2500 scanner.py           # File scanning\n\u2502       \u2514\u2500\u2500 cli/                 # CLI command implementations\n\u2502           \u251c\u2500\u2500 __init__.py\n\u2502           \u251c\u2500\u2500 commands.py      # NewCommand, RemoveCommand, MoveCommand, CleanCommand\n\u2502           \u2514\u2500\u2500 common.py        # Common utilities (asset paths, directory cleanup)\n\u2502\n\u2514\u2500\u2500 tests/                       # Test suite\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 smoke_test.py            # Smoke tests\n    \u251c\u2500\u2500 test_config.py           # Configuration tests\n    \u251c\u2500\u2500 test_plugin.py           # Plugin tests\n    \u251c\u2500\u2500 test_cli_*.py            # CLI tests\n    \u2514\u2500\u2500 test.sh                  # Test runner script\n</code></pre>"},{"location":"contributing/architecture/#Module-Responsibilities","title":"Module Responsibilities","text":"Module Responsibility Key Functions <code>plugin.py</code> MkDocs plugin integration File processing, recent notes insertion, graph integration <code>cli.py</code> CLI entry point Command registration, argument parsing, error handling <code>config.py</code> Configuration Plugin settings (<code>notes_root</code>, <code>recent_notes_config</code>, <code>graph_config</code>) <code>graph.py</code> Network graph Node/edge creation, link detection, static asset management <code>utils/meta.py</code> Metadata Frontmatter validation, title/date extraction <code>utils/scanner.py</code> File scanning Note file discovery and validation <code>utils/cli/commands.py</code> CLI commands <code>new</code>, <code>remove</code>, <code>move</code>, <code>clean</code> implementations <code>utils/cli/common.py</code> CLI utilities Asset directory paths, directory cleanup"},{"location":"contributing/architecture/#Dependency-Diagram","title":"Dependency Diagram","text":"<pre><code>graph TB\n    subgraph \"Entry Points\"\n        Plugin[plugin.py&lt;br/&gt;MkdocsNotePlugin]\n        CLI[cli.py&lt;br/&gt;CLI Entry]\n    end\n\n    subgraph \"Independet Modules\"\n        Config[config.py&lt;br/&gt;MkdocsNoteConfig]\n        Graph[graph.py&lt;br/&gt;Graph&lt;br/&gt;add_static_resources&lt;br/&gt;inject_graph_script&lt;br/&gt;copy_static_assets]\n    end\n\n    subgraph \"Utils Layer\"\n        Meta[utils/meta.py&lt;br/&gt;validate_frontmatter&lt;br/&gt;extract_date&lt;br/&gt;extract_title]\n        Scanner[utils/scanner.py&lt;br/&gt;scan_notes]\n\n        subgraph \"CLI Submodule\"\n            Commands[cli/commands.py&lt;br/&gt;NewCommand&lt;br/&gt;RemoveCommand&lt;br/&gt;MoveCommand&lt;br/&gt;CleanCommand]\n            Common[cli/common.py&lt;br/&gt;get_asset_directory&lt;br/&gt;cleanup_empty_directories]\n        end\n    end\n\n    Plugin --&gt; Config\n    Plugin --&gt; Scanner\n    Plugin --&gt; Meta\n    Plugin --&gt; Graph\n\n    CLI ---&gt; Config\n    CLI --&gt; Commands\n\n    Commands --&gt; Common\n    Scanner --&gt; Meta\n\n    Common --&gt;|Get MkDocsConfig Instance| Plugin</code></pre>"},{"location":"contributing/architecture/#Core-Modules-Detail","title":"Core Modules Detail","text":""},{"location":"contributing/architecture/#pluginpy---MkDocs-Plugin-Entry","title":"plugin.py - MkDocs Plugin Entry","text":"<p>Responsibility: MkDocs plugin integration and orchestration</p> <p>Key Components:</p> <pre><code>class MkdocsNotePlugin(BasePlugin[MkdocsNoteConfig]):\n    \"\"\"MkDocs Note Plugin entry point.\"\"\"\n\n    notes_list: list[File] = []\n\n    # Event Hooks:\n    def on_config(config)           # Add static resources for graph\n    def on_pre_build(config)        # Initialize graph if enabled\n    def on_files(files, config)     # Scan and validate notes\n    def on_nav(nav, config, files)  # Store files reference\n    def on_page_markdown(markdown)  # Insert recent notes\n    def on_post_page(output)        # Inject graph script\n    def on_post_build(config)       # Build graph, copy static assets\n</code></pre> <p>Recent Notes Insertion: - Scans notes using <code>scanner.scan_notes()</code> - Validates frontmatter with <code>meta.validate_frontmatter()</code> - Sorts by <code>note_date</code> (extracted from frontmatter) - Replaces marker with HTML list</p>"},{"location":"contributing/architecture/#clipy---Command-Line-Interface","title":"cli.py - Command Line Interface","text":"<p>Responsibility: Standalone CLI for note management</p> <p>Architecture: <pre><code>@click.group()\ndef cli():\n    \"\"\"MkDocs Note CLI - Manage notes and their assets structure.\"\"\"\n\n# Commands:\n@cli.command(\"new\")      # Create new note\n@cli.command(\"remove\")   # Remove note (alias: rm)\n@cli.command(\"move\")     # Move/rename note (alias: mv)\n@cli.command(\"clean\")    # Clean orphaned assets\n</code></pre></p> <p>Key Features: - Custom command grouping (aliases shown together) - Configuration loading from <code>mkdocs.yml</code> or defaults - Rich feedback with emojis (\u2705 \u274c \ud83d\udcdd \ud83d\udcc1) - Confirmation prompts (skip with <code>--yes</code>) - Dry-run support for <code>clean</code> command</p>"},{"location":"contributing/architecture/#configpy---Configuration-Management","title":"config.py - Configuration Management","text":"<p>Responsibility: Plugin configuration schema</p> <p>Configuration Options:</p> <pre><code>class MkdocsNoteConfig(Config):\n    enabled: bool = True\n    notes_root: Path = \"docs\"\n\n    recent_notes_config: dict = {\n        \"enabled\": False,\n        \"insert_marker\": \"&lt;!-- recent_notes --&gt;\",\n        \"insert_num\": 10,\n    }\n\n    graph_config: dict = {\n        \"enabled\": False,\n        \"name\": \"title\",      # or \"file_name\"\n        \"debug\": False,\n    }\n</code></pre>"},{"location":"contributing/architecture/#graphpy---Network-Graph-Visualization","title":"graph.py - Network Graph Visualization","text":"<p>Responsibility: Generate and visualize note relationships</p> <p>Core Class:</p> <pre><code>class Graph:\n    LINK_PATTERN = r\"\\[[^\\]]+\\]\\((?P&lt;url&gt;.*?)\\)|\\[\\[(?P&lt;wikilink&gt;[^\\]]+)\\]\\]\"\n\n    def _create_nodes(files)         # Create nodes from documentation pages\n    def _create_edges(files)         # Parse markdown for links\n    def _find_links(markdown)        # Extract links using regex\n    def to_dict()                    # Export graph data\n</code></pre> <p>Supporting Functions: - <code>add_static_resources()</code>: Add D3.js and custom JS/CSS to MkDocs config - <code>inject_graph_script()</code>: Inject graph options into HTML - <code>copy_static_assets()</code>: Copy graph.js and graph.css to site directory</p> <p>Link Detection: - Markdown links: <code>[text](url)</code> - Wiki links: <code>[[page]]</code> - Handles URL escaping, query strings, fragments</p>"},{"location":"contributing/architecture/#utilsmetapy---Metadata-Extraction","title":"utils/meta.py - Metadata Extraction","text":"<p>Responsibility: Simple frontmatter validation and metadata extraction</p> <p>Key Functions:</p> <pre><code>def validate_frontmatter(f: File) -&gt; bool:\n    \"\"\"Validate frontmatter, extract date and title.\n\n    Required fields:\n    - date: datetime object\n    - title: string\n    - publish: bool (default True)\n\n    Side effects: Sets f.note_date and f.note_title\n    \"\"\"\n\ndef extract_date(f: File) -&gt; Optional[datetime]:\n    \"\"\"Extract date from validated file.\"\"\"\n\ndef extract_title(f: File) -&gt; Optional[str]:\n    \"\"\"Extract title from validated file.\"\"\"\n</code></pre> <p>Validation Rules: - \u274c Skip if <code>publish: false</code> - \u274c Error if missing <code>date</code> or <code>title</code> - \u274c Error if wrong type - \u2705 Store metadata as file attributes</p>"},{"location":"contributing/architecture/#utilsscannerpy---File-Scanning","title":"utils/scanner.py - File Scanning","text":"<p>Responsibility: Scan and filter note files</p> <p>Key Function:</p> <pre><code>def scan_notes(files: Files, config) -&gt; tuple[list[File], list[File]]:\n    \"\"\"Scan notes directory, return (valid_notes, invalid_files).\n\n    Filtering:\n    1. Only documentation pages (is_documentation_page())\n    2. Within notes_root directory\n    3. Valid frontmatter (validate_frontmatter())\n\n    Returns:\n        (valid_notes, invalid_files)\n    \"\"\"\n</code></pre> <p>MkDocs Integration: - Uses <code>mkdocs.structure.files.Files</code> - Leverages <code>is_documentation_page()</code> for file type filtering - Works with MkDocs' path resolution</p>"},{"location":"contributing/architecture/#utilsclicommandspy---CLI-Command-Implementations","title":"utils/cli/commands.py - CLI Command Implementations","text":"<p>Command Classes:</p> Class Responsibility Key Methods <code>NewCommand</code> Create new note <code>_generate_note_basic_meta()</code>, <code>execute()</code> <code>RemoveCommand</code> Remove note and assets <code>_remove_single_document()</code>, <code>_remove_docs_directory()</code> <code>MoveCommand</code> Move/rename note and assets <code>_move_single_document()</code>, <code>_move_docs_directory()</code> <code>CleanCommand</code> Clean orphaned assets <code>_scan_note_files()</code>, <code>_find_orphaned_assets()</code> <p>Common Pattern: <pre><code>class XxxCommand:\n    def _validate_before_execution() -&gt; int\n        # Returns 0 (fail), 1 (single file), 2 (directory)\n\n    def execute(path) -&gt; None\n        # Main execution logic\n</code></pre></p>"},{"location":"contributing/architecture/#utilsclicommonpy---CLI-Utilities","title":"utils/cli/common.py - CLI Utilities","text":"<p>Utility Functions:</p> <pre><code>def get_asset_directory(note_path: Path) -&gt; Path:\n    \"\"\"Co-located asset structure: note.parent / 'assets' / note.stem\"\"\"\n    return note_path.parent / \"assets\" / note_path.stem\n\ndef cleanup_empty_directories(start_dir: Path, stop_at: Path):\n    \"\"\"Recursively remove empty parent directories.\"\"\"\n\ndef ensure_parent_directory(path: Path):\n    \"\"\"Create parent directory if needed.\"\"\"\n</code></pre> <p>Asset Directory Pattern: <pre><code>docs/notes/python/intro.md\n                 \u2514\u2500 assets/intro/  (asset directory)\n</code></pre></p>"},{"location":"contributing/architecture/#Data-Models-Simplified","title":"Data Models (Simplified)","text":""},{"location":"contributing/architecture/#Core-Data-Structure","title":"Core Data Structure","text":"<p>In v3.0.0+, we leverage MkDocs' existing data structures instead of creating custom models:</p> <p>Primary Data Object: <code>mkdocs.structure.files.File</code></p> <pre><code># MkDocs File object (extended by plugin)\nclass File:\n    src_path: str              # Source path relative to docs_dir\n    abs_src_path: str          # Absolute source path\n    url: str                   # URL path for the file\n    content_string: str        # File content\n    page: Optional[Page]       # Associated Page object\n\n    # Plugin-added attributes (via setattr):\n    note_date: datetime        # From frontmatter\n    note_title: str            # From frontmatter\n</code></pre>"},{"location":"contributing/architecture/#Frontmatter-Schema","title":"Frontmatter Schema","text":"<p>Minimal Required Fields:</p> <pre><code>---\ndate: 2025-11-05 12:00:00    # datetime (required)\ntitle: My Note Title         # string (required)\npermalink:                   # string (optional)\npublish: true                # bool (default: true)\n---\n</code></pre> <p>Processed by MkDocs: - Uses <code>mkdocs.utils.meta.get_data()</code> for parsing - YAML frontmatter automatically converted to Python types - <code>date</code> becomes <code>datetime</code> object</p>"},{"location":"contributing/architecture/#Graph-Data-Model","title":"Graph Data Model","text":"<p>Graph JSON Structure:</p> <pre><code>{\n  \"nodes\": [\n    {\n      \"id\": \"notes/python/intro.md\",\n      \"path\": \"/abs/path/to/notes/python/intro.md\",\n      \"name\": \"Python Introduction\",\n      \"url\": \"notes/python/intro/\"\n    }\n  ],\n  \"edges\": [\n    {\n      \"source\": \"notes/python/intro.md\",\n      \"target\": \"notes/python/basics.md\"\n    }\n  ]\n}\n</code></pre>"},{"location":"contributing/architecture/#Data-Flow-Diagram","title":"Data Flow Diagram","text":"<pre><code>graph LR\n    subgraph \"Input\"\n        NoteFiles[Note Files&lt;br/&gt;.md]\n        MkDocsConfig[mkdocs.yml]\n    end\n\n    subgraph \"Plugin Processing\"\n        Scanner[scanner.scan_notes]\n        MetaValidator[meta.validate_frontmatter]\n        GraphBuilder[Graph.__call__]\n    end\n\n    subgraph \"MkDocs Objects\"\n        FileList[Files&lt;br/&gt;Collection]\n        FileObj[File&lt;br/&gt;+ note_date&lt;br/&gt;+ note_title]\n        GraphData[Graph JSON&lt;br/&gt;nodes + edges]\n    end\n\n    subgraph \"Output\"\n        IndexPage[Index Page&lt;br/&gt;with Recent Notes]\n        SiteOutput[Site Output&lt;br/&gt;+ graph.json]\n    end\n\n    NoteFiles --&gt; FileList\n    MkDocsConfig --&gt; Scanner\n\n    FileList --&gt; Scanner\n    Scanner --&gt; MetaValidator\n    MetaValidator --&gt; FileObj\n\n    FileObj --&gt; GraphBuilder\n    GraphBuilder --&gt; GraphData\n\n    FileObj --&gt; IndexPage\n    GraphData --&gt; SiteOutput</code></pre>"},{"location":"contributing/architecture/#Workflows-and-Data-Flow","title":"Workflows and Data Flow","text":""},{"location":"contributing/architecture/#Plugin-Build-time-Workflow-v300","title":"Plugin Build-time Workflow (v3.0.0+)","text":"<pre><code>sequenceDiagram\n    participant MkDocs\n    participant Plugin\n    participant Scanner\n    participant Meta\n    participant Graph\n\n    MkDocs-&gt;&gt;Plugin: on_config(config)\n    Plugin-&gt;&gt;Plugin: Add static resources (D3.js, graph.js/css)\n    Plugin--&gt;&gt;MkDocs: config\n\n    MkDocs-&gt;&gt;Plugin: on_pre_build(config)\n    Plugin-&gt;&gt;Graph: new Graph(config)\n    Plugin--&gt;&gt;MkDocs: void\n\n    MkDocs-&gt;&gt;Plugin: on_files(files, config)\n    activate Plugin\n\n    Plugin-&gt;&gt;Scanner: scan_notes(files, config)\n    activate Scanner\n\n    loop For each file in files\n        Scanner-&gt;&gt;Scanner: Check if in notes_root\n        Scanner-&gt;&gt;Meta: validate_frontmatter(file)\n        Meta-&gt;&gt;Meta: Check publish, date, title\n        Meta-&gt;&gt;Meta: setattr(file, 'note_date', date)\n        Meta-&gt;&gt;Meta: setattr(file, 'note_title', title)\n        Meta--&gt;&gt;Scanner: valid/invalid\n    end\n\n    Scanner--&gt;&gt;Plugin: (valid_notes[], invalid_files[])\n    deactivate Scanner\n\n    Plugin-&gt;&gt;Plugin: Sort notes by note_date\n    Plugin-&gt;&gt;Plugin: Remove invalid files from files\n    Plugin--&gt;&gt;MkDocs: files\n    deactivate Plugin\n\n    MkDocs-&gt;&gt;Plugin: on_nav(nav, config, files)\n    Plugin-&gt;&gt;Plugin: Store files reference\n    Plugin--&gt;&gt;MkDocs: nav\n\n    loop For each page\n        MkDocs-&gt;&gt;Plugin: on_page_markdown(markdown, page)\n\n        alt Is index page in notes_root\n            Plugin-&gt;&gt;Plugin: insert_recent_note_links()\n            Plugin-&gt;&gt;Plugin: Replace marker with HTML list\n        end\n\n        Plugin--&gt;&gt;MkDocs: markdown\n    end\n\n    loop For each page\n        MkDocs-&gt;&gt;Plugin: on_post_page(output, page)\n        Plugin-&gt;&gt;Plugin: inject_graph_script(output)\n        Plugin--&gt;&gt;MkDocs: output\n    end\n\n    MkDocs-&gt;&gt;Plugin: on_post_build(config)\n\n    alt Graph enabled\n        Plugin-&gt;&gt;Graph: __call__(files)\n        Graph-&gt;&gt;Graph: _create_nodes(files)\n        Graph-&gt;&gt;Graph: _create_edges(files)\n        Plugin-&gt;&gt;Plugin: Write graph.json\n    end\n\n    Plugin-&gt;&gt;Plugin: copy_static_assets()\n    Plugin--&gt;&gt;MkDocs: void</code></pre>"},{"location":"contributing/architecture/#CLI-Command-Workflows-v300","title":"CLI Command Workflows (v3.0.0+)","text":""},{"location":"contributing/architecture/#new-Command-Note-Creation","title":"new Command (Note Creation)","text":"<pre><code>sequenceDiagram\n    participant User\n    participant CLI\n    participant NewCmd as NewCommand\n    participant Common\n    participant FS as FileSystem\n\n    User-&gt;&gt;CLI: mkdocs-note new note.md\n    CLI-&gt;&gt;CLI: Load config\n    CLI-&gt;&gt;NewCmd: execute(note_path)\n    activate NewCmd\n\n    NewCmd-&gt;&gt;NewCmd: _validate_before_execution()\n\n    alt File exists\n        NewCmd--&gt;&gt;CLI: Error\n        CLI--&gt;&gt;User: \u274c File already exists\n    end\n\n    NewCmd-&gt;&gt;Common: ensure_parent_directory(note_path)\n    Common-&gt;&gt;FS: mkdir -p parent/\n\n    NewCmd-&gt;&gt;NewCmd: _generate_note_basic_meta()\n    Note over NewCmd: Generate frontmatter:&lt;br/&gt;date, title, permalink, publish\n\n    NewCmd-&gt;&gt;FS: Write note file\n\n    NewCmd-&gt;&gt;Common: get_asset_directory(note_path)\n    Common--&gt;&gt;NewCmd: asset_dir\n\n    NewCmd-&gt;&gt;FS: mkdir -p asset_dir/\n\n    NewCmd--&gt;&gt;CLI: success\n    deactivate NewCmd\n\n    CLI--&gt;&gt;User: \u2705 Note created&lt;br/&gt;\ud83d\udcdd Note: path&lt;br/&gt;\ud83d\udcc1 Assets: path</code></pre>"},{"location":"contributing/architecture/#clean-Command-Orphaned-Asset-Cleanup","title":"clean Command (Orphaned Asset Cleanup)","text":"<pre><code>sequenceDiagram\n    participant User\n    participant CLI\n    participant CleanCmd as CleanCommand\n    participant Common\n    participant FS\n\n    User-&gt;&gt;CLI: mkdocs-note clean [--dry-run] [--yes]\n    CLI-&gt;&gt;CLI: Load config\n    CLI-&gt;&gt;CleanCmd: new CleanCommand()\n\n    CLI-&gt;&gt;CleanCmd: _scan_note_files(notes_root)\n    activate CleanCmd\n    CleanCmd-&gt;&gt;FS: Scan for .md, .ipynb\n    CleanCmd--&gt;&gt;CLI: note_files[]\n\n    CLI-&gt;&gt;CleanCmd: _find_orphaned_assets(note_files)\n\n    loop For each note\n        CleanCmd-&gt;&gt;Common: get_asset_directory(note)\n        CleanCmd-&gt;&gt;CleanCmd: Add to expected_set\n    end\n\n    CleanCmd-&gt;&gt;FS: Scan all assets/ directories\n    loop For each asset dir\n        alt Not in expected_set\n            CleanCmd-&gt;&gt;CleanCmd: Add to orphaned_list\n        end\n    end\n\n    CleanCmd--&gt;&gt;CLI: orphaned_dirs[]\n    deactivate CleanCmd\n\n    alt No orphans\n        CLI--&gt;&gt;User: \u2705 No orphaned assets\n    end\n\n    CLI--&gt;&gt;User: Show orphaned directories\n\n    alt --dry-run\n        CLI--&gt;&gt;User: \ud83d\udca1 Run without --dry-run to remove\n    else User confirms (or --yes)\n        CLI-&gt;&gt;CleanCmd: execute(dry_run=False)\n        CleanCmd-&gt;&gt;FS: Remove orphaned directories\n        CleanCmd-&gt;&gt;Common: cleanup_empty_directories()\n        CleanCmd--&gt;&gt;CLI: success\n        CLI--&gt;&gt;User: \u2705 Removed N directories\n    else User cancels\n        CLI--&gt;&gt;User: \u26a0\ufe0f Cancelled\n    end</code></pre>"},{"location":"contributing/architecture/#move-Command-Note-MoveRename","title":"move Command (Note Move/Rename)","text":"<pre><code>sequenceDiagram\n    participant User\n    participant CLI\n    participant MoveCmd as MoveCommand\n    participant Common\n    participant FS\n\n    User-&gt;&gt;CLI: mkdocs-note mv source.md dest.md [--yes]\n    CLI-&gt;&gt;CLI: Load config\n    CLI-&gt;&gt;MoveCmd: new MoveCommand()\n\n    alt Source doesn't exist\n        CLI--&gt;&gt;User: \u274c Source does not exist\n    end\n\n    alt User confirms (or --yes)\n        CLI-&gt;&gt;MoveCmd: execute(source, dest)\n        activate MoveCmd\n\n        MoveCmd-&gt;&gt;MoveCmd: _validate_before_execution()\n\n        MoveCmd-&gt;&gt;Common: ensure_parent_directory(dest)\n        MoveCmd-&gt;&gt;Common: get_asset_directory(source)\n        Common--&gt;&gt;MoveCmd: source_asset_dir\n        MoveCmd-&gt;&gt;Common: get_asset_directory(dest)\n        Common--&gt;&gt;MoveCmd: dest_asset_dir\n\n        MoveCmd-&gt;&gt;FS: Move source \u2192 dest\n\n        alt Assets exist\n            MoveCmd-&gt;&gt;FS: Move source_asset_dir \u2192 dest_asset_dir\n            MoveCmd-&gt;&gt;Common: cleanup_empty_directories()\n        end\n\n        MoveCmd--&gt;&gt;CLI: success\n        deactivate MoveCmd\n\n        CLI--&gt;&gt;User: \u2705 Successfully moved&lt;br/&gt;\ud83d\udcdd From: source&lt;br/&gt;\ud83d\udcdd To: dest&lt;br/&gt;\ud83d\udcc1 Assets moved\n    else User cancels\n        CLI--&gt;&gt;User: \u26a0\ufe0f Cancelled\n    end</code></pre>"},{"location":"contributing/architecture/#Design-Principles-v300","title":"Design Principles (v3.0.0+)","text":""},{"location":"contributing/architecture/#Simplicity-First","title":"Simplicity First","text":"<p>Core Philosophy: Minimal complexity, maximum clarity</p> <ul> <li> <p>\u2705 Flat Structure: Core modules at package root, not buried in nested subpackages</p> </li> <li> <p>\u2705 Direct Dependencies: Minimize abstraction layers</p> </li> <li> <p>\u2705 Standard Library: Prefer Python/MkDocs built-ins over custom solutions</p> </li> <li> <p>\u2705 Code Minimalism: ~2,700 lines vs. ~12,000 lines in v2.x</p> </li> </ul> <p>Example: <pre><code># v3.0.0: Direct, simple\nfrom mkdocs.utils import meta\nfrontmatter, body = meta.get_data(content)\n\n# v2.x: Over-abstracted\nfrom mkdocs_note.utils.dataps.frontmatter.handlers import FrontmatterParser\nparser = FrontmatterParser()\nfrontmatter, body = parser.parse(content)\n</code></pre></p>"},{"location":"contributing/architecture/#Leverage-MkDocs-Infrastructure","title":"Leverage MkDocs Infrastructure","text":"<p>Principle: Don't reinvent what MkDocs provides</p> <ul> <li> <p>\u2705 Use MkDocs File objects: Extend with <code>setattr()</code> instead of custom wrappers</p> </li> <li> <p>\u2705 Use MkDocs logging: <code>get_plugin_logger(__name__)</code> instead of custom logger</p> </li> <li> <p>\u2705 Use MkDocs meta parsing: <code>mkdocs.utils.meta.get_data()</code> for frontmatter</p> </li> <li> <p>\u2705 Follow MkDocs conventions: Plugin hooks, configuration schema</p> </li> </ul> <p>Benefits: - Better compatibility with MkDocs ecosystem - Less maintenance burden - Familiar API for MkDocs developers</p>"},{"location":"contributing/architecture/#Co-located-Resources","title":"Co-located Resources","text":"<p>Pattern: Assets live next to their notes</p> <pre><code>docs/notes/python/intro.md\n                \u2514\u2500 assets/intro/  (assets for intro.md)\n</code></pre> <p>Implementation: <pre><code>def get_asset_directory(note_path: Path) -&gt; Path:\n    return note_path.parent / \"assets\" / note_path.stem\n</code></pre></p> <p>Advantages:</p> <ul> <li> <p>\u2705 Easy to understand and manage</p> </li> <li> <p>\u2705 Move note \u2192 assets move with it (CLI commands handle this)</p> </li> <li> <p>\u2705 No complex path calculations</p> </li> <li> <p>\u2705 Intuitive for users</p> </li> </ul>"},{"location":"contributing/architecture/#Fail-Fast-Fail-Clear","title":"Fail Fast, Fail Clear","text":"<p>Principle: Clear error messages, early validation</p> <pre><code># Frontmatter validation\nif not frontmatter.get(\"publish\", False):\n    logger.debug(f\"Skipping {f.src_uri} because it is not published\")\n    return False\n\nif \"date\" not in frontmatter:\n    logger.error(f\"Invalid frontmatter for {f.src_uri}: 'date' is required\")\n    return False\n</code></pre> <p>CLI Error Handling: <pre><code>if not note_path.exists():\n    click.echo(f\"\u274c Error: File does not exist: {note_path}\", err=True)\n    sys.exit(1)\n</code></pre></p>"},{"location":"contributing/architecture/#Testing-Strategy","title":"Testing Strategy","text":"<p>Test Coverage:</p> <ul> <li> <p>\u2705 Plugin tests: Core MkDocs integration</p> </li> <li> <p>\u2705 CLI tests: Command execution, argument parsing</p> </li> <li> <p>\u2705 Smoke tests: End-to-end workflows</p> </li> <li> <p>\u2705 Config tests: Configuration validation</p> </li> </ul> <p>Testing Principles:</p> <ul> <li> <p>Use temporary directories for file operations</p> </li> <li> <p>Test both success and failure paths</p> </li> <li> <p>Clear, descriptive test names</p> </li> <li> <p>Minimal test fixtures</p> </li> </ul>"},{"location":"contributing/architecture/#Key-Technical-Decisions-v300","title":"Key Technical Decisions (v3.0.0+)","text":""},{"location":"contributing/architecture/#Why-Simplify-from-v2x-to-v300","title":"Why Simplify from v2.x to v3.0.0?","text":"<p>Problem Statement: v2.x was over-engineered for the actual use cases</p> <p>v2.x Issues:</p> <ul> <li> <p>\u274c Complexity: 9+ subpackages, 12,000+ lines of code</p> </li> <li> <p>\u274c Maintenance Burden: Many abstractions, hard to debug</p> </li> <li> <p>\u274c Feature Creep: Template system, validation, initialization - rarely used</p> </li> <li> <p>\u274c Learning Curve: New contributors struggled to understand architecture</p> </li> </ul> <p>v3.0.0 Solution:</p> <ul> <li> <p>\u2705 Radical Simplification: Removed 77% of code</p> </li> <li> <p>\u2705 Focus on Core: Kept only essential features (recent notes, graph, basic CLI)</p> </li> <li> <p>\u2705 Flat Structure: Easy to navigate and understand</p> </li> <li> <p>\u2705 Better Integration: Leverage MkDocs infrastructure instead of reimplementing</p> </li> </ul> <p>Result:</p> <ul> <li> <p>Faster build times</p> </li> <li> <p>Easier to maintain</p> </li> <li> <p>Clearer purpose</p> </li> <li> <p>Better reliability</p> </li> </ul>"},{"location":"contributing/architecture/#Why-Keep-Co-located-Asset-Structure","title":"Why Keep Co-located Asset Structure?","text":"<p>Decision: Retain co-located pattern from v2.x</p> <pre><code>docs/notes/python/intro.md\n                \u2514\u2500 assets/intro/  (co-located)\n</code></pre> <p>Rationale:</p> <ul> <li> <p>\u2705 User-friendly: Easy to understand and manage</p> </li> <li> <p>\u2705 Portable: Move note \u2192 assets move with it</p> </li> <li> <p>\u2705 Simple: One function, one rule</p> </li> <li> <p>\u2705 Proven: Worked well in v2.x</p> </li> </ul> <p>Implementation: <pre><code># Single source of truth\ndef get_asset_directory(note_path: Path) -&gt; Path:\n    return note_path.parent / \"assets\" / note_path.stem\n</code></pre></p>"},{"location":"contributing/architecture/#Why-Use-MkDocs-Built-in-Frontmatter-Parsing","title":"Why Use MkDocs' Built-in Frontmatter Parsing?","text":"<p>Decision: Use <code>mkdocs.utils.meta.get_data()</code> instead of custom parser</p> <p>Rationale:</p> <ul> <li> <p>\u2705 Standard: MkDocs already has YAML frontmatter support</p> </li> <li> <p>\u2705 Type Conversion: Automatic conversion (dates, booleans)</p> </li> <li> <p>\u2705 Well-tested: Proven by MkDocs ecosystem</p> </li> <li> <p>\u2705 Less Code: No need to maintain custom parser</p> </li> </ul> <p>Comparison: <pre><code># v2.x: Custom parser (~200 lines)\nfrom mkdocs_note.utils.dataps.frontmatter.handlers import FrontmatterParser\nparser = FrontmatterParser()\nfm, body = parser.parse_file(path)\n\n# v3.0.0: Built-in (~5 lines)\nfrom mkdocs.utils import meta\nwith open(path) as f:\n    fm, body = meta.get_data(f.read())\n</code></pre></p>"},{"location":"contributing/architecture/#Why-Remove-Template-System","title":"Why Remove Template System?","text":"<p>Decision: Remove template system with variable substitution</p> <p>v2.x Template System:</p> <ul> <li> <p>Template files with <code>{date}</code>, <code>{title}</code> placeholders</p> </li> <li> <p>Complex variable replacement logic</p> </li> <li> <p>Template registry and loading mechanism</p> </li> </ul> <p>Why Remove:</p> <ul> <li> <p>\u274c Low Usage: Most users used default template</p> </li> <li> <p>\u274c Complexity: ~500 lines of code for rare feature</p> </li> <li> <p>\u274c Maintenance: Breaking changes when frontmatter changed</p> </li> </ul> <p>v3.0.0 Approach: <pre><code># Simple, direct frontmatter generation\ndef _generate_note_basic_meta(self, file_path: Path) -&gt; str:\n    return f\"\"\"---\ndate: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\ntitle: {file_path.stem.replace('-', ' ').title()}\npermalink: \npublish: true\n---\n\"\"\"\n</code></pre></p> <p>Benefits:</p> <ul> <li> <p>\u2705 Maintainable: 10 lines vs. 500 lines</p> </li> <li> <p>\u2705 Flexible: Users can edit after creation</p> </li> </ul>"},{"location":"contributing/architecture/#Why-Keep-Network-Graph","title":"Why Keep Network Graph?","text":"<p>Decision: Retain graph visualization despite simplification</p> <p>Rationale: - \u2705 Self-contained: <code>graph.py</code> is independent, ~190 lines</p> <ul> <li> <p>\u2705 Migrated Code: Already ported from mkdocs-network-graph-plugin</p> </li> <li> <p>\u2705 Low Maintenance: Stable, minimal dependencies</p> </li> </ul> <p>Integration:</p> <ul> <li> <p>Uses D3.js for rendering (CDN)</p> </li> <li> <p>Generates <code>graph.json</code> with nodes and edges</p> </li> <li> <p>Injects JavaScript configuration via HTML hook</p> </li> </ul>"},{"location":"contributing/architecture/#Migration-Guide","title":"Migration Guide","text":""},{"location":"contributing/architecture/#Migrating-from-v2x-to-v300","title":"Migrating from v2.x to v3.0.0","text":"<p>Breaking Changes</p> <p><code>v3.0.0</code> removes many features from <code>v2.x</code>. Please review the changelog before upgrading.</p>"},{"location":"contributing/architecture/#Step-1-Review-Removed-Features","title":"Step 1: Review Removed Features","text":"<p>No longer available in v3.0.0:</p> <ul> <li> <p>\u274c Template system (<code>notes_template</code> config)</p> </li> <li> <p>\u274c Asset management system</p> </li> <li> <p>\u274c <code>init</code> and <code>validate</code> CLI commands</p> </li> <li> <p>\u274c Custom frontmatter registry</p> </li> <li> <p>\u274c <code>assets_dir</code> configuration option</p> </li> </ul> <p>Still available:</p> <ul> <li> <p>\u2705 Recent notes display</p> </li> <li> <p>\u2705 Network graph visualization</p> </li> <li> <p>\u2705 Basic CLI: <code>new</code>, <code>remove</code>, <code>move</code>, <code>clean</code></p> </li> <li> <p>\u2705 Frontmatter metadata (<code>date</code>, <code>title</code>, <code>publish</code>, <code>permalink</code>)</p> </li> </ul>"},{"location":"contributing/architecture/#Step-2-Update-Configuration","title":"Step 2: Update Configuration","text":"<p>Old (v2.x) config: <pre><code>plugins:\n  - mkdocs-note:\n      notes_root: \"docs/notes\"\n      assets_dir: \"docs/notes/assets\"  # \u274c Removed\n      notes_template: \"template.md\"    # \u274c Removed\n      recent_notes_config:\n        enabled: true\n        insert_num: 10\n</code></pre></p> <p>New (v3.0.0) config: <pre><code>plugins:\n  - mkdocs-note:\n      notes_root: \"docs/notes\"  # \u2705 Still supported\n      recent_notes_config:      # \u2705 Still supported\n        enabled: true\n        insert_num: 10\n      graph_config:             # \u2705 Enhanced\n        enabled: true\n        name: \"title\"\n</code></pre></p>"},{"location":"contributing/architecture/#Step-3-Update-Frontmatter-if-needed","title":"Step 3: Update Frontmatter (if needed)","text":"<p>v3.0.0 requires these fields: <pre><code>---\ndate: 2025-11-05 12:00:00  # Required: datetime\ntitle: My Note              # Required: string\npublish: true               # Optional: bool (default: true)\npermalink:                  # Optional: string\n---\n</code></pre></p> <p>Notes without valid frontmatter will be excluded from builds.</p>"},{"location":"contributing/architecture/#Step-4-Test-Your-Build","title":"Step 4: Test Your Build","text":"<pre><code># Clean previous builds\nrm -rf site/\n\n# Build with v3.0.0\nmkdocs build\n\n# Check for errors\n# - Missing frontmatter errors\n# - Invalid date/title errors\n</code></pre>"},{"location":"contributing/architecture/#For-Plugin-Developers","title":"For Plugin Developers","text":"<p>Module path changes:</p> <pre><code># v2.x: Complex paths\nfrom mkdocs_note.utils.dataps.meta import NoteInfo\nfrom mkdocs_note.utils.docsps.handlers import NoteProcessor\nfrom mkdocs_note.utils.dataps.frontmatter.handlers import FrontmatterManager\n\n# v3.0.0: Simplified (or don't import internals)\n# Most internal APIs are NOT intended for external use\n# Use plugin configuration instead\n</code></pre> <p>Recommendation: Don't depend on internal APIs. Use: - Plugin configuration (<code>mkdocs.yml</code>) - CLI commands - Frontmatter metadata</p>"},{"location":"contributing/architecture/#References","title":"References","text":""},{"location":"contributing/architecture/#External-Resources","title":"External Resources","text":"<ul> <li> <p>MkDocs Documentation</p> </li> <li> <p>Material for MkDocs</p> </li> <li> <p>MkDocs Network Graph Plugin (graph.py origin)</p> </li> <li> <p>Keep a Changelog</p> </li> <li> <p>Semantic Versioning</p> </li> </ul>"},{"location":"contributing/architecture/#Design-Philosophy-References","title":"Design Philosophy References","text":"<ul> <li> <p>YAGNI (You Aren't Gonna Need It)</p> </li> <li> <p>KISS (Keep It Simple, Stupid)</p> </li> <li> <p>The Zen of Python (\"Simple is better than complex\")</p> </li> </ul>"},{"location":"contributing/contributing/","title":"Contributing to MkDocs Note","text":"<p>First off, thank you for considering contributing to MkDocs Note! It's people like you that make the open-source community such a great place.</p>"},{"location":"contributing/contributing/#How-Can-I-Contribute","title":"How Can I Contribute?","text":"<p>There are many ways to contribute, from writing documentation and tutorials to reporting bugs and submitting code changes.</p>"},{"location":"contributing/contributing/#Reporting-Bugs","title":"Reporting Bugs","text":"<p>If you find a bug, please open an issue and provide the following information:</p> <ul> <li> <p>A clear and descriptive title.</p> </li> <li> <p>A detailed description of the problem, including steps to reproduce it.</p> </li> <li> <p>Your <code>MkDocs</code> configuration (<code>mkdocs.yml</code>).</p> </li> <li> <p>Any relevant error messages or logs.</p> </li> </ul>"},{"location":"contributing/contributing/#Suggesting-Enhancements","title":"Suggesting Enhancements","text":"<p>If you have an idea for a new feature or an improvement to an existing one, please open an issue to discuss it. This allows us to coordinate our efforts and avoid duplicating work.</p>"},{"location":"contributing/contributing/#Development-Setup","title":"Development Setup","text":"<p>To get started with local development, follow these steps:</p> <ol> <li> <p>Fork and Clone the Repository</p> <pre><code>git clone https://github.com/YOUR_USERNAME/mkdocs-note.git\ncd mkdocs-note\n</code></pre> </li> <li> <p>Set Up the Environment</p> <p>It's strongly recommended to use a virtual environment, and recommended to use uv to manage project configuration and virtual environment.</p> </li> <li> <p>Install Dependencies</p> <p>Install the project in editable mode along with the development dependencies.</p> <pre><code>uv sync --extra dev\n</code></pre> </li> <li> <p>Run Tests</p> <p>To make sure everything is set up correctly, use <code>pytest</code> run the test suite:</p> <pre><code>uv run pytest\n</code></pre> </li> </ol>"},{"location":"contributing/contributing/#Pull-Request-Process","title":"Pull Request Process","text":"<ol> <li> <p>Ensure any new code is covered by tests.</p> </li> <li> <p>Update the documentation if you've added or changed any features.</p> </li> <li> <p>Make sure the test suite passes (<code>pytest</code>).</p> </li> <li> <p>Submit your pull request!</p> </li> </ol> <p>Thank you for your contribution!</p>"},{"location":"contributing/todo/","title":"Todo List","text":"<p>This page is used to track the todo list of the project. You can open issues on GitHub to report bugs or request features or other enhancement suggestions, it will be synced to this page if it is valuable and acceptable.</p> <p>View on GitHub for better viewing experience.</p>"},{"location":"contributing/todo/#Underlying-API","title":"Underlying API","text":""},{"location":"contributing/todo/#Features","title":"Features","text":""},{"location":"contributing/todo/#Site-Enhancement","title":"Site Enhancement","text":"<ul> <li>[x] Try to add the feature that can manage links between each notes and combine it with mkdocs-network-graph-plugin. #20 | By virtualguard101</li> </ul>"},{"location":"contributing/todo/#CLI-Enhancement","title":"CLI Enhancement","text":"<ul> <li> <p>[ ] Add alias manager which inspired by scoop alias. #33 | By Butterblock233</p> </li> <li> <p>[ ] Add <code>list</code> subcommand to print all docs. #34 | By Butterblock233</p> </li> </ul>"},{"location":"contributing/todo/#Bug-Fixes","title":"Bug Fixes","text":""},{"location":"contributing/todo/#Documentation","title":"Documentation","text":"<ul> <li>[x] Add mkdocs-based documentation for this project #32 | By virtualguard101</li> </ul>"},{"location":"usage/","title":"User Guide","text":"<p>This is the user guide of the <code>mkdocs-note</code> plugin in detail. You can get more details about the usage and features of the plugin here.</p> <p>For the quick start, you can refer to the Getting Started guide.</p>"},{"location":"usage/asset-manager/","title":"Asset Management","text":"<p>The plugin automatically manages assets for each note using a co-located structure:</p>"},{"location":"usage/asset-manager/#Co-Located-Asset-Organization","title":"Co-Located Asset Organization","text":"<p>Important</p> <p>Starting from version <code>2.0.0</code>, the plugin uses a co-located asset structure where assets are stored next to their notes. This makes it easier to manage and move notes with their assets together.</p> <ul> <li> <p>Local Structure: Asset directories are placed in the same directory as their corresponding note files, making them easy to find and manage</p> </li> <li> <p>Simple Pattern: For any note file, assets are stored in <code>assets/{note_stem}/</code> within the same directory</p> <ul> <li> <p>Note: <code>docs/usage/contributing.md</code> \u2192 Assets: <code>docs/usage/assets/contributing/</code></p> </li> <li> <p>Note: <code>docs/notes/python/intro.md</code> \u2192 Assets: <code>docs/notes/python/assets/intro/</code></p> </li> <li> <p>Note: <code>docs/notes/quickstart.md</code> \u2192 Assets: <code>docs/notes/assets/quickstart/</code></p> </li> </ul> </li> <li> <p>Path Mapping Examples:</p> <pre><code>docs/notes/dsa/anal/iter.md           \u2192 docs/notes/dsa/anal/assets/iter/\ndocs/notes/language/python/intro.md  \u2192 docs/notes/language/python/assets/intro/\ndocs/usage/contributing.md            \u2192 docs/usage/assets/contributing/\ndocs/notes/quickstart.md              \u2192 docs/notes/assets/quickstart/\n</code></pre> </li> </ul>"},{"location":"usage/asset-manager/#Automatic-Path-Conversion","title":"Automatic Path Conversion","text":"<ul> <li> <p>Relative References in Notes: Simply write image references as usual:</p> <pre><code>![Recursion Tree](recursion_tree.png)\n</code></pre> </li> <li> <p>Automatic Conversion: The plugin automatically converts paths during build:</p> <ul> <li> <p>For <code>docs/notes/dsa/anal/iter.md</code> \u2192 <code>assets/iter/recursion_tree.png</code></p> </li> <li> <p>For <code>docs/notes/quickstart.md</code> \u2192 <code>assets/quickstart/recursion_tree.png</code></p> </li> </ul> </li> <li> <p>No Manual Path Management: Original markdown files remain clean and simple</p> </li> </ul>"},{"location":"usage/asset-manager/#Benefits","title":"Benefits","text":"<ul> <li> <p>\u2705 Co-Located: Assets are right next to their notes, making them easy to find and manage</p> </li> <li> <p>\u2705 No Naming Conflicts: Each note has its own dedicated asset directory</p> </li> <li> <p>\u2705 Automatic Processing: Image paths are converted automatically during build</p> </li> <li> <p>\u2705 MkDocs Compatible: Generated paths work seamlessly with MkDocs</p> </li> <li> <p>\u2705 Portable: Moving a note and its assets directory together is straightforward</p> </li> </ul>"},{"location":"usage/asset-manager/#How-It-Works","title":"How It Works","text":"<ol> <li> <p>The plugin scans your configured notes directory for supported file types</p> </li> <li> <p>It extracts metadata (title, modification date) from each note file</p> </li> <li> <p>Notes are sorted by modification time (most recent first)</p> <ul> <li> <p>By default, uses Git commit timestamps for consistent sorting across deployment environments</p> </li> <li> <p>Falls back to file system timestamps if Git is not available</p> </li> </ul> </li> <li> <p>The specified number of recent notes is inserted into your index page between the marker comments</p> </li> <li> <p>For each note page, the plugin processes asset references:</p> <ul> <li> <p>Detects image references in markdown content</p> </li> <li> <p>Calculates the note's position in the directory tree</p> </li> <li> <p>Converts relative asset paths to correct references pointing to the co-located assets directory</p> </li> </ul> </li> <li> <p>The process runs automatically every time you build your documentation</p> </li> </ol>"},{"location":"usage/asset-manager/#Asset-Management-Best-Practices","title":"Asset Management Best Practices","text":"<ol> <li> <p>Directory Structure: Organize your notes in subdirectories for better categorization</p> <pre><code>docs/notes/\n\u251c\u2500\u2500 dsa/           # Data Structures &amp; Algorithms\n\u2502   \u2514\u2500\u2500 anal/\n\u2502       \u251c\u2500\u2500 iter.md\n\u2502       \u2514\u2500\u2500 assets/\n\u2502           \u2514\u2500\u2500 iter/\n\u2502               \u251c\u2500\u2500 recursion_tree.png\n\u2502               \u2514\u2500\u2500 diagram.png\n\u251c\u2500\u2500 language/      # Programming Languages\n\u2502   \u2514\u2500\u2500 python/\n\u2502       \u251c\u2500\u2500 intro.md\n\u2502       \u2514\u2500\u2500 assets/\n\u2502           \u2514\u2500\u2500 intro/\n\u2502               \u2514\u2500\u2500 syntax.png\n\u251c\u2500\u2500 ml/            # Machine Learning\n\u2514\u2500\u2500 tools/         # Development Tools\n</code></pre> </li> <li> <p>Asset Placement: Assets are automatically placed next to their note</p> <ul> <li>Note file: <code>docs/notes/dsa/anal/iter.md</code></li> <li>Assets directory: <code>docs/notes/dsa/anal/assets/iter/</code></li> </ul> </li> <li> <p>Simple References: Write simple relative references in your notes</p> <pre><code>![My Image](my-image.png)\n![Diagram](diagrams/flow.png)\n</code></pre> </li> <li> <p>Automatic Conversion: Let the plugin handle path conversion during build</p> </li> </ol>"},{"location":"usage/installation/","title":"Installation","text":""},{"location":"usage/installation/#Requirements","title":"Requirements","text":"<ul> <li> <p>Python 3.12 or higher</p> </li> <li> <p>Astral uv as recommended Python package manager</p> </li> <li> <p>MkDocs</p> </li> </ul>"},{"location":"usage/installation/#Basic-Installation","title":"Basic Installation","text":"<p>Thanks to the modern Python package manager, you can easily install the plugin using the following commands:</p> <pre><code>uv init\nuv venv\nuv add mkdocs-note\n</code></pre> <p>After installation, you can use the <code>mkdocs-note --version</code> command to check the version of the plugin.</p> <pre><code>mkdocs-note --version\n</code></pre> <p>Or you can use The <code>uv tool</code> Interface (<code>uvx</code>) to install and use it much simpler that run the plugin in an isolated environment:</p> <pre><code>uvx mkdocs-note --version\n</code></pre> <p>Or using <code>pip</code> in an old way:</p> <pre><code>pip install mkdocs-note\n</code></pre>"},{"location":"usage/installation/#For-developers","title":"For developers","text":"<p>If you want to contribute to the plugin, you can clone the repository and install the plugin in development mode:</p> <pre><code>git clone https://github.com/virtualguard101/mkdocs-note.git\ncd mkdocs-note\nuv sync --extra dev\nuv add -e .\n</code></pre> <p>Then you can run the tests for installation verification:</p> <pre><code>uv run pytest\n</code></pre> <p>More details about development setup, please refer to Contributing.</p>"},{"location":"usage/network-graph/","title":"Network Graph Visualization","text":"<p>The MkDocs Note plugin includes an interactive network graph feature that visualizes the relationships between your notes. This feature helps you understand the structure and connections in your documentation.</p>"},{"location":"usage/network-graph/#Overview","title":"Overview","text":"<p>The network graph feature provides:</p> <ul> <li>Interactive Visualization: Drag, zoom, and explore your note relationships using D3.js</li> <li>Automatic Link Detection: Finds connections between notes based on markdown links and wiki-style links</li> <li>Theme Integration: Seamlessly integrates with Material for MkDocs theme</li> <li>Real-time Generation: Automatically generates graph data during the build process</li> <li>Export Capabilities: Export graph data in JSON format for further analysis</li> </ul>"},{"location":"usage/network-graph/#Configuration","title":"Configuration","text":""},{"location":"usage/network-graph/#Basic-Setup","title":"Basic Setup","text":"<p>To enable the network graph, add the following to your <code>mkdocs.yml</code>:</p> <pre><code>plugins:\n  - mkdocs-note:\n      graph_config:\n        enabled: true\n</code></pre>"},{"location":"usage/network-graph/#Advanced-Configuration","title":"Advanced Configuration","text":"<pre><code>plugins:\n  - mkdocs-note:\n      graph_config:\n        enabled: true\n        name: \"title\"              # Node naming: \"title\" or \"file_name\"\n        debug: false              # Enable debug logging\n</code></pre>"},{"location":"usage/network-graph/#Configuration-Options","title":"Configuration Options","text":"Option Type Default Description <code>name</code> string <code>\"title\"</code> Node naming strategy: <code>\"title\"</code> uses page title, <code>\"file_name\"</code> uses filename <code>debug</code> boolean <code>false</code> Enable debug logging for graph generation"},{"location":"usage/network-graph/#Usage","title":"Usage","text":""},{"location":"usage/network-graph/#Automatic-Display","title":"Automatic Display","text":"<p>When enabled, the network graph automatically appears on your notes index page. The graph is generated during the MkDocs build process and includes:</p> <ol> <li> <p>Interactive Graph: Visual representation of note relationships</p> </li> <li> <p>Graph Data: JSON file containing nodes and edges information</p> </li> <li> <p>Static Assets: CSS and JavaScript files for rendering</p> </li> </ol>"},{"location":"usage/network-graph/#Generated-Files","title":"Generated Files","text":"<p>When you build your documentation, the plugin creates:</p> <ul> <li> <p><code>site/graph/graph.json</code> - Graph data in JSON format</p> </li> <li> <p><code>site/js/graph.js</code> - Interactive graph visualization script</p> </li> <li> <p><code>site/css/graph.css</code> - Graph styling</p> </li> </ul>"},{"location":"usage/network-graph/#Integration","title":"Integration","text":"<p>The network graph integrates with the existing recent notes feature and appears automatically when:</p> <ol> <li> <p><code>enable_network_graph: true</code> is set in configuration</p> </li> <li> <p>The plugin processes your documentation files</p> </li> <li> <p>Links between notes are detected and visualized</p> </li> </ol>"},{"location":"usage/network-graph/#Customization","title":"Customization","text":""},{"location":"usage/network-graph/#CSS-Variables","title":"CSS Variables","text":"<p>Customize the graph appearance using CSS variables in your <code>extra.css</code>:</p> <pre><code>:root {\n  /* Node colors */\n  --md-graph-node-color: #1976d2;\n  --md-graph-node-color--hover: #1565c0;\n  --md-graph-node-color--current: #ff5722;\n  --md-graph-node-color--asset: #757575;\n\n  /* Link colors */\n  --md-graph-link-color: #757575;\n  --md-graph-link-color--hover: #424242;\n\n  /* Text colors */\n  --md-graph-text-color: #212121;\n  --md-graph-text-color--light: #666666;\n}\n</code></pre>"},{"location":"usage/network-graph/#Custom-Styling","title":"Custom Styling","text":"<p>Override specific graph elements:</p> <pre><code>/* Customize node appearance */\n.graph-svg .nodes circle {\n  stroke-width: 3px;\n  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));\n}\n\n/* Customize link appearance */\n.graph-svg .links line {\n  stroke-width: 3px;\n  stroke-dasharray: 5,5;\n}\n\n/* Customize labels */\n.graph-svg .labels text {\n  font-weight: bold;\n  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);\n}\n</code></pre>"},{"location":"usage/network-graph/#References","title":"References","text":"<p>Credits</p> <p>Thanks to the original author of the MkDocs Network Graph Plugin for the inspiration and the underlying engine.</p>"},{"location":"usage/recent-notes/","title":"Recent Notes Insertion","text":"<p>Mkdocs Note support inserting the links which refer to the recent new or modified documentations to the marked placeholder which can be configured in <code>mkdocs.yml</code> as below.</p>"},{"location":"usage/recent-notes/#Setup-Where-to-Insert","title":"Setup Where to Insert","text":"<p>The first step is to configure where to insert the link(s) of recent new or modified documentations.</p>"},{"location":"usage/recent-notes/#Marker","title":"Marker","text":"<p>To setup the markers to mark the placeholder where to insert the links of recent, you can configure the <code>recent_notes_config</code> option in <code>mkdocs.yml</code> as follows:</p> <pre><code>plugins:\n  - mkdocs-note:\n      recent_notes_config:\n        insert_marker: \"&lt;!-- recent_notes --&gt;\"\n</code></pre> <p>By default, the marker is <code>&lt;!-- recent_notes --&gt;</code>.</p> <p>In the index file which under the notes root directory, you should add the marker as follows in where you want to insert the links if you use the default marker we have just talk about above:</p> <pre><code># My Documentation\n\n## Recent Updates\n\n&lt;!-- recent_notes --&gt;\n</code></pre>"},{"location":"usage/recent-notes/#Max-Number-of-Documentations-to-Insert","title":"Max Number of Documentations to Insert","text":"<p>You can configure the maximum number of notes to insert by setting the <code>insert_num</code> option in <code>mkdocs.yml</code> as follows:</p> <pre><code>plugins:\n  - mkdocs-note:\n      recent_notes_config:\n        insert_num: 10\n</code></pre> <p>In the case of default, the maximum number of notes to insert is 10.</p>"}]}